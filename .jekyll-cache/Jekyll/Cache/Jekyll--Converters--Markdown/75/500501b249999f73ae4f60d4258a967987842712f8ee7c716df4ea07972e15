I"õ<ul id="markdown-toc">
  <li><a href="#å‚è€ƒ" id="markdown-toc-å‚è€ƒ">å‚è€ƒ</a></li>
  <li><a href="#è¯´æ˜" id="markdown-toc-è¯´æ˜">è¯´æ˜</a>    <ul>
      <li><a href="#å®‰è£…ç¨‹åºåŒ…" id="markdown-toc-å®‰è£…ç¨‹åºåŒ…">å®‰è£…ç¨‹åºåŒ…</a>        <ul>
          <li><a href="#å®‰è£…rè¯­è¨€" id="markdown-toc-å®‰è£…rè¯­è¨€">å®‰è£…Rè¯­è¨€</a></li>
          <li><a href="#cran-è¿›å…¥råå®‰è£…æ— éœ€root" id="markdown-toc-cran-è¿›å…¥råå®‰è£…æ— éœ€root">CRAN è¿›å…¥Råå®‰è£…ï¼Œæ— éœ€root</a></li>
          <li><a href="#bioconductor" id="markdown-toc-bioconductor">Bioconductor</a></li>
          <li><a href="#github" id="markdown-toc-github">GitHub</a></li>
          <li><a href="#æŸ¥çœ‹ç¨‹åºåŒ…å¸®åŠ©" id="markdown-toc-æŸ¥çœ‹ç¨‹åºåŒ…å¸®åŠ©">æŸ¥çœ‹ç¨‹åºåŒ…å¸®åŠ©</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#æ•°æ®ç±»å‹" id="markdown-toc-æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</a>    <ul>
      <li><a href="#åŸºæœ¬æ•°æ®å…ƒç´ " id="markdown-toc-åŸºæœ¬æ•°æ®å…ƒç´ ">åŸºæœ¬æ•°æ®å…ƒç´ </a>        <ul>
          <li><a href="#æ•°æ®ç±»å‹è½¬æ¢" id="markdown-toc-æ•°æ®ç±»å‹è½¬æ¢">æ•°æ®ç±»å‹è½¬æ¢</a></li>
        </ul>
      </li>
      <li><a href="#æ•°ç»„" id="markdown-toc-æ•°ç»„">æ•°ç»„</a>        <ul>
          <li><a href="#å®šä¹‰c" id="markdown-toc-å®šä¹‰c">å®šä¹‰<code class="highlighter-rouge">c</code></a></li>
          <li><a href="#è°ƒç”¨-" id="markdown-toc-è°ƒç”¨-">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></a></li>
        </ul>
      </li>
      <li><a href="#çŸ©é˜µ" id="markdown-toc-çŸ©é˜µ">çŸ©é˜µ</a>        <ul>
          <li><a href="#å®šä¹‰matrix" id="markdown-toc-å®šä¹‰matrix">å®šä¹‰<code class="highlighter-rouge">matrix</code></a></li>
          <li><a href="#è°ƒç”¨--1" id="markdown-toc-è°ƒç”¨--1">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></a></li>
        </ul>
      </li>
      <li><a href="#æ•°ç»„array" id="markdown-toc-æ•°ç»„array">æ•°ç»„<code class="highlighter-rouge">array</code></a>        <ul>
          <li><a href="#å®šä¹‰array" id="markdown-toc-å®šä¹‰array">å®šä¹‰<code class="highlighter-rouge">array</code></a></li>
          <li><a href="#ç‰¹å®šæ•°ç»„" id="markdown-toc-ç‰¹å®šæ•°ç»„">ç‰¹å®šæ•°ç»„</a></li>
          <li><a href="#æå–-" id="markdown-toc-æå–-">æå–<code class="highlighter-rouge">[ ]</code></a></li>
        </ul>
      </li>
      <li><a href="#æ•°æ®æ¡†" id="markdown-toc-æ•°æ®æ¡†">æ•°æ®æ¡†</a>        <ul>
          <li><a href="#å®šä¹‰dataframecol1col2col3" id="markdown-toc-å®šä¹‰dataframecol1col2col3">å®šä¹‰<code class="highlighter-rouge">data.frame(col1,col2,col3...)</code></a></li>
          <li><a href="#è°ƒç”¨--2" id="markdown-toc-è°ƒç”¨--2">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></a></li>
        </ul>
      </li>
      <li><a href="#å› å­" id="markdown-toc-å› å­">å› å­</a></li>
      <li><a href="#åˆ—è¡¨" id="markdown-toc-åˆ—è¡¨">åˆ—è¡¨</a>        <ul>
          <li><a href="#å®šä¹‰" id="markdown-toc-å®šä¹‰">å®šä¹‰</a></li>
          <li><a href="#è°ƒç”¨listname-keywords" id="markdown-toc-è°ƒç”¨listname-keywords">è°ƒç”¨<code class="highlighter-rouge">listname[" keywords"]</code></a></li>
        </ul>
      </li>
      <li><a href="#å…¶ä»–" id="markdown-toc-å…¶ä»–">å…¶ä»–</a>        <ul>
          <li><a href="#å¯¹å˜é‡æ³¨é‡Šnames" id="markdown-toc-å¯¹å˜é‡æ³¨é‡Šnames">å¯¹å˜é‡æ³¨é‡Š<code class="highlighter-rouge">names</code></a></li>
        </ul>
      </li>
      <li><a href="#å˜é‡æ•°æ®å¯¹è±¡æ“ä½œ" id="markdown-toc-å˜é‡æ•°æ®å¯¹è±¡æ“ä½œ">å˜é‡(æ•°æ®å¯¹è±¡)æ“ä½œ</a></li>
      <li><a href="#å˜é‡æ•°æ®å¯¹è±¡å¤„ç†å‡½æ•°" id="markdown-toc-å˜é‡æ•°æ®å¯¹è±¡å¤„ç†å‡½æ•°">å˜é‡(æ•°æ®å¯¹è±¡)å¤„ç†å‡½æ•°</a>        <ul>
          <li><a href="#å­—ç¬¦" id="markdown-toc-å­—ç¬¦">å­—ç¬¦</a></li>
          <li><a href="#è½¬ä¹‰å­—ç¬¦ä¸²" id="markdown-toc-è½¬ä¹‰å­—ç¬¦ä¸²">è½¬ä¹‰å­—ç¬¦ä¸²</a></li>
          <li><a href="#å…¶ä»–å¤„ç†å‡½æ•°" id="markdown-toc-å…¶ä»–å¤„ç†å‡½æ•°">å…¶ä»–å¤„ç†å‡½æ•°</a></li>
          <li><a href="#çŸ©é˜µæ“ä½œ" id="markdown-toc-çŸ©é˜µæ“ä½œ">çŸ©é˜µæ“ä½œ</a></li>
        </ul>
      </li>
      <li><a href="#æ•´åˆé‡æ„æ•°æ®æš‚ç•¥" id="markdown-toc-æ•´åˆé‡æ„æ•°æ®æš‚ç•¥">æ•´åˆé‡æ„æ•°æ®ï¼Œæš‚ç•¥</a></li>
    </ul>
  </li>
  <li><a href="#æ•°å­¦å‡½æ•°" id="markdown-toc-æ•°å­¦å‡½æ•°">æ•°å­¦å‡½æ•°</a>    <ul>
      <li><a href="#æ•°å­¦è¿ç®—" id="markdown-toc-æ•°å­¦è¿ç®—">æ•°å­¦è¿ç®—</a></li>
      <li><a href="#ç»Ÿè®¡å‡½æ•°" id="markdown-toc-ç»Ÿè®¡å‡½æ•°">ç»Ÿè®¡å‡½æ•°</a></li>
      <li><a href="#æ¦‚ç‡å‡½æ•°" id="markdown-toc-æ¦‚ç‡å‡½æ•°">æ¦‚ç‡å‡½æ•°</a>        <ul>
          <li><a href="#éšæœºæ•°ç§å­" id="markdown-toc-éšæœºæ•°ç§å­">éšæœºæ•°ç§å­</a></li>
          <li><a href="#å¤šå…ƒæ­£æ€æ•°æ®mvrnorm-ç•¥" id="markdown-toc-å¤šå…ƒæ­£æ€æ•°æ®mvrnorm-ç•¥">å¤šå…ƒæ­£æ€æ•°æ®<code class="highlighter-rouge">mvrnorm</code> ç•¥</a></li>
        </ul>
      </li>
      <li><a href="#å°†å˜é‡çŸ©é˜µæ•°ç»„æ•°æ®æ¡†ä½œä¸ºå‡½æ•°çš„è¾“å…¥å‚æ•°" id="markdown-toc-å°†å˜é‡çŸ©é˜µæ•°ç»„æ•°æ®æ¡†ä½œä¸ºå‡½æ•°çš„è¾“å…¥å‚æ•°">å°†å˜é‡(çŸ©é˜µï¼Œæ•°ç»„ï¼Œæ•°æ®æ¡†â€¦)ä½œä¸ºå‡½æ•°çš„è¾“å…¥å‚æ•°</a>        <ul>
          <li><a href="#ç›´æ¥ç½®å…¥" id="markdown-toc-ç›´æ¥ç½®å…¥">ç›´æ¥ç½®å…¥</a></li>
          <li><a href="#apply-æ•°ç»„çŸ©é˜µæŸä¸€ç»´åº¦" id="markdown-toc-apply-æ•°ç»„çŸ©é˜µæŸä¸€ç»´åº¦">apply ï¼ˆæ•°ç»„ï¼ŒçŸ©é˜µï¼‰æŸä¸€ç»´åº¦</a></li>
          <li><a href="#lapplysapply-åˆ—è¡¨listçš„æŸä¸€ç»´åº¦æš‚ç•¥" id="markdown-toc-lapplysapply-åˆ—è¡¨listçš„æŸä¸€ç»´åº¦æš‚ç•¥">lapply,sapply (åˆ—è¡¨list)çš„æŸä¸€ç»´åº¦ï¼Œæš‚ç•¥</a></li>
        </ul>
      </li>
      <li><a href="#è‡ªç¼–å‡½æ•°" id="markdown-toc-è‡ªç¼–å‡½æ•°">è‡ªç¼–å‡½æ•°</a></li>
    </ul>
  </li>
  <li><a href="#åˆ¤æ–­" id="markdown-toc-åˆ¤æ–­">åˆ¤æ–­</a>    <ul>
      <li><a href="#if" id="markdown-toc-if">if</a></li>
      <li><a href="#swith" id="markdown-toc-swith">swith</a></li>
      <li><a href="#ä¸æˆ–é" id="markdown-toc-ä¸æˆ–é">ä¸æˆ–é</a></li>
    </ul>
  </li>
  <li><a href="#å¾ªç¯" id="markdown-toc-å¾ªç¯">å¾ªç¯</a>    <ul>
      <li><a href="#for--i-in-seq" id="markdown-toc-for--i-in-seq">for ( i in seq)</a></li>
      <li><a href="#while-æ¡ä»¶" id="markdown-toc-while-æ¡ä»¶">while (æ¡ä»¶)</a></li>
      <li><a href="#å¾ªç¯æ§åˆ¶breakå’Œnext" id="markdown-toc-å¾ªç¯æ§åˆ¶breakå’Œnext">å¾ªç¯æ§åˆ¶breakå’Œnext</a></li>
    </ul>
  </li>
  <li><a href="#è‡ªå®šä¹‰å‡½æ•°" id="markdown-toc-è‡ªå®šä¹‰å‡½æ•°">è‡ªå®šä¹‰å‡½æ•°</a></li>
  <li><a href="#æŠŠsourceå½“æ¨¡å—ç”¨" id="markdown-toc-æŠŠsourceå½“æ¨¡å—ç”¨">æŠŠsourceå½“æ¨¡å—ç”¨</a></li>
  <li><a href="#ç»˜å›¾" id="markdown-toc-ç»˜å›¾">ç»˜å›¾</a>    <ul>
      <li><a href="#å‡½æ•°" id="markdown-toc-å‡½æ•°">å‡½æ•°</a></li>
    </ul>
  </li>
  <li><a href="#æ ¼å¼åŒ–è¾“å…¥è¾“å‡º" id="markdown-toc-æ ¼å¼åŒ–è¾“å…¥è¾“å‡º">æ ¼å¼åŒ–è¾“å…¥è¾“å‡º</a>    <ul>
      <li><a href="#catè¾“å‡ºä¿¡æ¯åˆ°å±å¹•æ–‡ä»¶" id="markdown-toc-catè¾“å‡ºä¿¡æ¯åˆ°å±å¹•æ–‡ä»¶"><code class="highlighter-rouge">cat</code>è¾“å‡ºä¿¡æ¯åˆ°å±å¹•/æ–‡ä»¶</a></li>
      <li><a href="#printçš„è¾“å‡ºä¼šå¸¦å¾ˆå¤šä¿¡æ¯å¦‚ä¸Š" id="markdown-toc-printçš„è¾“å‡ºä¼šå¸¦å¾ˆå¤šä¿¡æ¯å¦‚ä¸Š"><code class="highlighter-rouge">print</code>çš„è¾“å‡ºä¼šå¸¦å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚ä¸Š</a></li>
    </ul>
  </li>
  <li><a href="#æ–‡ä»¶è¯»å†™" id="markdown-toc-æ–‡ä»¶è¯»å†™">æ–‡ä»¶è¯»å†™</a>    <ul>
      <li><a href="#æ‰‹è¾“å…¥edit" id="markdown-toc-æ‰‹è¾“å…¥edit">æ‰‹è¾“å…¥<code class="highlighter-rouge">edit()</code></a></li>
      <li><a href="#ä»æ–‡æœ¬æ–‡ä»¶è¯»å…¥" id="markdown-toc-ä»æ–‡æœ¬æ–‡ä»¶è¯»å…¥">ä»æ–‡æœ¬æ–‡ä»¶è¯»å…¥</a></li>
      <li><a href="#ä¿å­˜æ•°æ®" id="markdown-toc-ä¿å­˜æ•°æ®">ä¿å­˜æ•°æ®</a>        <ul>
          <li><a href="#writecsvé»˜è®¤sepæ˜¯å…¶ä»–å…·ä½“å‚æ•°åŒwritetable" id="markdown-toc-writecsvé»˜è®¤sepæ˜¯å…¶ä»–å…·ä½“å‚æ•°åŒwritetable">write.csvé»˜è®¤sepæ˜¯<code class="highlighter-rouge">,</code>ï¼Œå…¶ä»–å…·ä½“å‚æ•°åŒ<code class="highlighter-rouge">write.table</code></a></li>
        </ul>
      </li>
      <li><a href="#å…¶ä»–-1" id="markdown-toc-å…¶ä»–-1">å…¶ä»–</a></li>
    </ul>
  </li>
  <li><a href="#rè°ƒç”¨fortran" id="markdown-toc-rè°ƒç”¨fortran">Rè°ƒç”¨Fortran</a></li>
  <li><a href="#rè°ƒç”¨python" id="markdown-toc-rè°ƒç”¨python">Rè°ƒç”¨Python</a></li>
  <li><a href="#æœ‰è¶£" id="markdown-toc-æœ‰è¶£">æœ‰è¶£</a>    <ul>
      <li><a href="#assignå°†å­—ç¬¦ä¸²è½¬ä¸ºå˜é‡" id="markdown-toc-assignå°†å­—ç¬¦ä¸²è½¬ä¸ºå˜é‡"><code class="highlighter-rouge">assign</code>å°†å­—ç¬¦ä¸²è½¬ä¸ºå˜é‡</a></li>
      <li><a href="#systemls" id="markdown-toc-systemls"><code class="highlighter-rouge">system("ls")</code></a></li>
    </ul>
  </li>
  <li><a href="#å°†rè¯­è¨€å˜æˆlinuxçš„å°è„šæœ¬ä½¿ç”¨" id="markdown-toc-å°†rè¯­è¨€å˜æˆlinuxçš„å°è„šæœ¬ä½¿ç”¨">å°†Rè¯­è¨€ï¼Œå˜æˆLinuxçš„å°è„šæœ¬ä½¿ç”¨</a>    <ul>
      <li><a href="#åœ¨è¶…ç®—ä¸Šç¼–è¯‘å®‰è£…råˆ°ä¸ªäººç›®å½•" id="markdown-toc-åœ¨è¶…ç®—ä¸Šç¼–è¯‘å®‰è£…råˆ°ä¸ªäººç›®å½•">åœ¨è¶…ç®—ä¸Šç¼–è¯‘å®‰è£…Råˆ°ä¸ªäººç›®å½•</a></li>
      <li><a href="#è„šæœ¬" id="markdown-toc-è„šæœ¬">è„šæœ¬</a></li>
      <li><a href="#é›†æˆåˆ°makefileé‡Œç¼–è¯‘è®¡ç®—ç”»å›¾ç®€ç›´ä¸è¦å¤ªçˆ½" id="markdown-toc-é›†æˆåˆ°makefileé‡Œç¼–è¯‘è®¡ç®—ç”»å›¾ç®€ç›´ä¸è¦å¤ªçˆ½">é›†æˆåˆ°makefileé‡Œ,ç¼–è¯‘è®¡ç®—,ç”»å›¾,ç®€ç›´ä¸è¦å¤ªçˆ½</a></li>
      <li><a href="#è°ƒç”¨shellçš„grepç»„åˆæ“ä½œ" id="markdown-toc-è°ƒç”¨shellçš„grepç»„åˆæ“ä½œ">è°ƒç”¨shellçš„<code class="highlighter-rouge">grep</code>ç»„åˆæ“ä½œ</a></li>
    </ul>
  </li>
  <li><a href="#plot" id="markdown-toc-plot">plot</a></li>
  <li><a href="#ggplot2" id="markdown-toc-ggplot2">ggplot2</a>    <ul>
      <li><a href="#qplot" id="markdown-toc-qplot">qplot</a></li>
      <li><a href="#ggplot" id="markdown-toc-ggplot">ggplot</a></li>
      <li><a href="#3dç”»å›¾" id="markdown-toc-3dç”»å›¾">3dç”»å›¾</a></li>
    </ul>
  </li>
  <li><a href="#rè¯­è¨€ç”¨äºç§‘å­¦è®¡ç®—" id="markdown-toc-rè¯­è¨€ç”¨äºç§‘å­¦è®¡ç®—">Rè¯­è¨€ç”¨äºç§‘å­¦è®¡ç®—</a>    <ul>
      <li><a href="#fft" id="markdown-toc-fft">FFT</a></li>
    </ul>
  </li>
</ul>

<p>Rè¯­è¨€å¿«é€Ÿä¸Šæ‰‹<br /></p>

<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="http://cn.voidcc.com/question/p-kowbomba-bds.html">.Fortranï¼ˆï¼‰è¿”å›ä»»ä½•ç»“æœ</a><br />
å¡å·´, ç§‘å¼—, é«˜æ¶›, ç­‰. R è¯­ è¨€ å® æˆ˜[J]. 2013.<br />
<a href="http://rvdsd.top/2018/09/07/BioStatistics/%E7%94%9F%E7%89%A9%E7%BB%9F%E8%AE%A1-dnorm,%20pnorm,%20qnorm,%20and%20rnorm/">dnorm, pnorm, qnormä¸rnormçš„åŒºåˆ«</a><br />
<a href="https://blog.csdn.net/swuteresa/article/details/8564247">Rè¯­è¨€çš„æµç¨‹æ§åˆ¶</a><br />
<a href="https://omicspie.com/2018/05/29/R%20study2/">Rè¯­è¨€å…¥é—¨</a><br />
<a href="https://blog.csdn.net/u011596455/article/details/79753788">R è¯­è¨€â€“æ¥æ”¶å‘½ä»¤è¡Œå‚æ•°</a><br />
<a href="https://d.cosx.org/d/108295-108295">Ré‡Œé¢æœ‰æ²¡æœ‰å‡½æ•°å¯ä»¥è¾“å‡ºåˆ°å·²æœ‰æ–‡ä»¶æœ«å°¾ï¼Ÿ</a><br />
<a href="https://ww2.mathworks.cn/help/matlab/ref/fft.html">å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ - MATLAB fft- MathWorks ä¸­å›½</a><br />
<a href="https://blog.csdn.net/u013421629/article/details/72771241">ã€Rè¯­è¨€æ•°æ®å¯¼å‡ºtxtã€‘ write.table å‡½æ•°ç”¨æ³•</a></p>

<h2 id="è¯´æ˜">è¯´æ˜</h2>
<ul>
  <li>è¿è¡Œè„šæœ¬æ–¹æ³•<br />
1) <code class="highlighter-rouge">R CMD [option] [xxx.R] [è¾“å‡º]</code><br />
2) ä¸pythonå’Œbashä¸€æ ·ï¼Œåœ¨è„šæœ¬é‡ŒæŒ‡æ˜ç¨‹åºï¼Œæ·»åŠ å¯æ‰§è¡Œæƒé™
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env Rscript</span><span class="w">
</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">)</span><span class="w"> 
</span><span class="n">weight</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">)</span><span class="w"> 
</span><span class="n">plot</span><span class="p">(</span><span class="n">age</span><span class="p">,</span><span class="n">weight</span><span class="p">)</span><span class="w">
</span></code></pre></div>    </div>
  </li>
  <li>æ³¨é‡Šç”¨<code class="highlighter-rouge">#</code></li>
  <li>åŒè¡Œä¹¦å†™ï¼Œç”¨<code class="highlighter-rouge">;</code>ä»£è¡¨æ¢è¡Œ</li>
  <li>å˜é‡ååŒºåˆ†å¤§å°å†™,å­—æ¯æ•°å­—ä¸‹åˆ’çº¿</li>
  <li>å˜é‡æ— éœ€å®šä¹‰ï¼Œéšç”¨éšèµ‹å€¼ï¼Œæ–°åˆ›å»ºï¼Œèµ‹å€¼ä¸ºæ–°æ•°æ®=åˆ é™¤æ—§å˜é‡å¹¶é‡æ–°å®šä¹‰èµ‹å€¼</li>
  <li>Rçš„æ•°ç»„å’ŒçŸ©é˜µçš„å…ƒç´ ç±»å‹ä¸ç”¨ç›¸åŒ</li>
  <li>å˜é‡èµ‹å€¼ï¼Œæ•™ç¨‹ä¸­æ˜¯<code class="highlighter-rouge">b &lt;- 5</code>ï¼Œåœ¨<code class="highlighter-rouge">R version 3.3.1</code>å¯ä»¥ç›´æ¥<code class="highlighter-rouge">b=5;b=c(1,2,3)</code></li>
  <li>åˆ é™¤å˜é‡<code class="highlighter-rouge">rm(å˜é‡å)</code></li>
  <li><strong>ä½¿ç”¨[â€ â€œ]æå–å…ƒç´ ï¼Œæœ‰<code class="highlighter-rouge">â€œ</code>ï¼ŒåŒå¼•å·</strong></li>
  <li>åœ¨è„šæœ¬æˆ–ç¨‹åºä¸­å¤šæ¬¡æ‰§è¡Œ<code class="highlighter-rouge">plot</code>ï¼Œæ¯æ¬¡çš„å›¾ä¼šå˜æˆä¸€ä¸ªpdfçš„ä¸€é¡µï¼Œç¨‹åºæ‰§è¡Œç»“æŸåï¼Œæœ‰ä¸ªæ€»å›¾çš„pdfä¿å­˜åœ¨å½“å‰ç›®å½•</li>
  <li>ä½¿ç”¨sourceåƒæ¨¡å—ä¸€æ ·è°ƒç”¨</li>
  <li>å½“å‰ç›®å½•è‹¥å­˜åœ¨<code class="highlighter-rouge">.RData .Rhistory</code>æ–‡ä»¶ï¼Œå¥½åƒä¼šå½±å“è„šæœ¬è¿è¡Œç»“æœ</li>
</ul>

<h3 id="å®‰è£…ç¨‹åºåŒ…">å®‰è£…ç¨‹åºåŒ…</h3>
<h4 id="å®‰è£…rè¯­è¨€">å®‰è£…Rè¯­è¨€</h4>
<ul>
  <li>ä¸‹è½½/ç¼–è¯‘ å®‰è£…<a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/">æ¸…å-mirrors</a><br />
å¯ä»¥ä¸‹è½½å®‰è£…åŒ…ï¼Œä¹Ÿå¯ä»¥æºç ç¼–è¯‘</li>
  <li>homebrewå®‰è£…
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#MacOSä¹Ÿå¯ä»¥
brew install R
</code></pre></div>    </div>
  </li>
  <li>anacondaä¹Ÿå¯ä»¥å®‰è£…
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cndaqiang@girl:~/work/dfft-yimin/out$ conda install R
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="cran-è¿›å…¥råå®‰è£…æ— éœ€root">CRAN è¿›å…¥Råå®‰è£…ï¼Œæ— éœ€root</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>install.packages("inline")
</code></pre></div></div>
<p>æŒ‡å®šæ¸…åé•œåƒ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>options(repos=structure(c(CRAN="https://mirrors.tuna.tsinghua.edu.cn/CRAN/"))) 
</code></pre></div></div>
<h4 id="bioconductor">Bioconductor</h4>
<p>Bioconductoræ˜¯å¤§éƒ¨åˆ†çš„ç”Ÿä¿¡ç›¸å…³çš„åŒ…å­˜æ”¾çš„åœ°æ–¹ï¼Œç½‘å€<a href="https://www.bioconductor.org/">https://www.bioconductor.org/</a> å®‰è£…ä½¿ç”¨ä»£ç å¦‚ä¸‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## try http:// if https:// URLs are not supported
source("https://bioconductor.org/biocLite.R")
biocLite("package.name")#å°†package.nameæ›¿æ¢ä¸ºè‡ªå·±çš„è¦å®‰è£…çš„åŒ…çš„åå­—å³å¯ã€‚
</code></pre></div></div>
<h4 id="github">GitHub</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>install.packages("devtools")
library(devtools)
install_github("user.name/package.name")#å…¶ä¸­user.nameæ˜¯githubä½œè€…çš„ç”¨æˆ·åã€‚
</code></pre></div></div>
<h4 id="æŸ¥çœ‹ç¨‹åºåŒ…å¸®åŠ©">æŸ¥çœ‹ç¨‹åºåŒ…å¸®åŠ©</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>help(package = "sxtTools")
#å¦‚æœæƒ³çœ‹æŸä¸ªå…·ä½“çš„å‡½æ•°çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š
?installBioc
</code></pre></div></div>

<h2 id="æ•°æ®ç±»å‹">æ•°æ®ç±»å‹</h2>
<p>Rçš„åŸºæœ¬æ•°æ®å…ƒç´ æœ‰æ•°å€¼ï¼Œå­—ç¬¦ï¼Œé€»è¾‘å‹<br /></p>

<h3 id="åŸºæœ¬æ•°æ®å…ƒç´ ">åŸºæœ¬æ•°æ®å…ƒç´ </h3>
<p>ç›´æ¥èµ‹å€¼ï¼Œå’Œæ•°ç»„å°±ä¸ªcçš„åŒºåˆ«</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; a=5.0     #æ•°å€¼å‹
&gt; a
[1] 5
&gt; a="hello" #å­—ç¬¦ç±»å‹
&gt; a
[1] "hello"
&gt; a=T       #é€»è¾‘å‹
&gt; a
[1] TRUE
</code></pre></div></div>
<h4 id="æ•°æ®ç±»å‹è½¬æ¢">æ•°æ®ç±»å‹è½¬æ¢</h4>

<ul>
  <li><code class="highlighter-rouge">as.numeric(a)</code> è½¬æ•°å€¼</li>
  <li><code class="highlighter-rouge">as.character(b)</code>  å°†æ•°å­—bè½¬åŒ–æˆå­—ç¬¦æ ¼å¼</li>
  <li><code class="highlighter-rouge">format(1.2345,digits = 3)</code> å°†æ•°å­—è½¬æˆå­—ç¬¦æ ¼å¼ï¼Œå¹¶è®¾ç½®æœ‰æ•ˆä½æ•°ä¸º3</li>
  <li><code class="highlighter-rouge">as.matrix(a)</code>è½¬çŸ©é˜µ</li>
  <li><code class="highlighter-rouge">data.frame(Ave) </code>è½¬æ•°æ®æ¡†</li>
  <li><code class="highlighter-rouge">as.numeric(as.vector(unlist(strsplit(Dipole,","))))</code> ç»„åˆæ“ä½œï¼Œæ‹†åˆ†å­—ç¬¦ä¸²</li>
  <li><code class="highlighter-rouge">options(digits=N)</code>,è®¾ç½®æ•°æ®ç²¾åº¦ï¼Œå±å¹•æ˜¾ç¤ºçš„å°æ•°ç‚¹ä½æ•°</li>
</ul>

<h3 id="æ•°ç»„">æ•°ç»„</h3>
<p>æ•°ç»„å…ƒç´ å¯ä»¥æ˜¯æ•°å€¼ï¼Œå­—ç¬¦ï¼Œé€»è¾‘å‹æ··åˆåœ¨ä¸€èµ·ï¼Œä¸å¿…ç›¸åŒç±»å‹</p>
<h4 id="å®šä¹‰c">å®šä¹‰<code class="highlighter-rouge">c</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; a=4
&gt; a
[1] 4
&gt; a &lt;- c(2,3)
&gt; a
[1] 2 3
</code></pre></div></div>
<p>å…¶ä»–å®šä¹‰æ–¹å¼</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; 1:4
[1] 1 2 3 4
</code></pre></div></div>
<h4 id="è°ƒç”¨-">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a[n]
</code></pre></div></div>
<h3 id="çŸ©é˜µ">çŸ©é˜µ</h3>
<p>çŸ©é˜µæ˜¯ç”±å‘é‡æ„æˆï¼Œå› æ­¤å…ƒç´ å¯ä»¥æ˜¯æ•°å€¼ï¼Œå­—ç¬¦ï¼Œé€»è¾‘å‹æ··åˆåœ¨ä¸€èµ·ï¼Œä¸å¿…ç›¸åŒç±»å‹</p>
<h4 id="å®šä¹‰matrix">å®šä¹‰<code class="highlighter-rouge">matrix</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>matrix(å‘é‡,[nrow=è¡Œæ•°,ncol=åˆ—æ•°][,byrow=T/F][,dimname=list(è¡ŒåçŸ©é˜µ,åˆ—åçŸ©é˜µ)]  )
</code></pre></div></div>
<p>æå–å‘é‡ä¸­çš„å‰nrow*ncolä¸ªå…ƒç´ å¡«å……çŸ©é˜µ<br />
è‹¥ä¸è®¾ç½®è¡Œæ•°ï¼Œé»˜è®¤ä¸ºåˆ—å‘é‡<br />
byrow=Tå‘é‡æŒ‰è¡Œå¡«å……ï¼ŒFæŒ‰åˆ—å¡«å……ï¼Œ
ç¤ºä¾‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; matrix(c(1,2,"hello",3),nrow=2,ncol=1)
     [,1]
[1,] "1"
[2,] "2"
&gt; matrix(c(1,2,"hello",3),nrow=4,ncol=1)
     [,1]
[1,] "1"
[2,] "2"
[3,] "hello"
[4,] "3"
&gt; matrix(1:4,nrow=2,ncol=2,byrow=F,dimname=list(c("hang1","hang2"),c("lie1","lie2")))
      lie1 lie2
hang1    1    3
hang2    2    4
</code></pre></div></div>
<h4 id="è°ƒç”¨--1">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; b=matrix(1:4,nrow=2,ncol=2,byrow=F,dimname=list(c("hang1","hang2"),c("lie1","lie2")))
&gt; b[1,1]
[1] 1
&gt; b["hang1","lie2"]
[1] 3
&gt; aa
     [,1] [,2] [,3] [,4]
[1,]    1    3    5    7
[2,]    2    4    6    8
&gt; aa[1,2:3]
[1] 3 5
</code></pre></div></div>
<p>ä¹Ÿæ”¯æŒåƒmatlabä¸€æ ·ï¼Œæ¡ä»¶è°ƒç”¨</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; x=1:10
&gt; x[x&gt;5]
[1]  6  7  8  9 10
</code></pre></div></div>
<p><strong>æ³¨æ„ï¼Œ<code class="highlighter-rouge">a:b/2å…¶å®æ˜¯c(a:b)/2, åº”è¯¥å†™ a:(b/2),åœ¨æå–çŸ©é˜µæ—¶ç”¨, mydata[1:(n/2),2]</code></strong></p>

<h3 id="æ•°ç»„array">æ•°ç»„<code class="highlighter-rouge">array</code></h3>
<p>çŸ©é˜µåªèƒ½æ˜¯äºŒç»´çš„ï¼Œæ•°ç»„ä¸çŸ©é˜µä¸€æ ·ï¼ŒåŒºåˆ«æ˜¯å¯ä»¥æ˜¯é«˜ç»´çš„</p>
<h4 id="å®šä¹‰array">å®šä¹‰<code class="highlighter-rouge">array</code></h4>
<p>ç¤ºä¾‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> b=array(1:8,c(2,2,2),dimname=list(c("hang1","hang2"),c("lie1","lie2"),c("matrix1","matrix2")))
 &gt; b
, , matrix1

      lie1 lie2
hang1    1    3
hang2    2    4

, , matrix2

      lie1 lie2
hang1    5    7
hang2    6    8
</code></pre></div></div>

<h4 id="ç‰¹å®šæ•°ç»„">ç‰¹å®šæ•°ç»„</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x=1:10 !ç­‰å·®æ•°ç»„
&gt; seq(1,5,2)
[1] 1 3 5
</code></pre></div></div>
<h4 id="æå–-">æå–<code class="highlighter-rouge">[ ]</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; b["hang2","lie1","matrix2"]
[1] 6
</code></pre></div></div>
<h3 id="æ•°æ®æ¡†">æ•°æ®æ¡†</h3>
<p>æ˜¯å°†å¤šä¸ªå˜é‡ä¿å­˜åˆ°ä¸€ä¸ªæ•°æ®æ¡†ä¸­<br />
å¯ä»¥æ ¹æ®å˜é‡åä»æ•°æ®æ¡†ä¸­æå–æ•°æ®</p>
<h4 id="å®šä¹‰dataframecol1col2col3">å®šä¹‰<code class="highlighter-rouge">data.frame(col1,col2,col3...)</code></h4>
<p>æ¯åˆ—å…ƒç´ è¦ä¸€æ ·å¤š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; col1=1:5
&gt; col2=2:6
&gt; col3=c("q","w","e","r","t")
&gt; data.frame(col1,col2,col3)
  col1 col2 col3
1    1    2    q
2    2    3    w
3    3    4    e
4    4    5    r
5    5    6    t
#æŒ‡å®šè¡Œåç§°
&gt; data.frame(col1,col2,col3,row.names=col3)
  col1 col2 col3
q    1    2    q
w    2    3    w
e    3    4    e
r    4    5    r
t    5    6    t
#åæœŸä¿®æ”¹åˆ—å
dipoledate=data.frame(result$getDipolePython())
names(dipoledate)=c("Time","x","y","z")
</code></pre></div></div>

<h4 id="è°ƒç”¨--2">è°ƒç”¨<code class="highlighter-rouge">[ ]</code></h4>
<p>ä¸ªäººè§‰å¾—<code class="highlighter-rouge">$</code>æŒºå¥½ç”¨çš„</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; b=data.frame(col1,col2,col3)
&gt; b["col2"]
  col2
1    2
2    3
3    4
4    5
5    6
&gt; b[1:3,2:3] #å’Œmatlabä¸€æ ·å‘€ï¼Œ[  [è¡Œ],åˆ—]å†…åªæœ‰ä¸€ä¸ªæ•°ç»„åˆ™ä»åˆ—æå–
  col2 col3
1    2    q
2    3    w
3    4    e
&gt; b$col1
[1] 1 2 3 4 5
&gt; summary(b$col1)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
      1       2       3       3       4       5
</code></pre></div></div>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<code class="highlighter-rouge">attach</code>å°†æ•°æ®æ¡†åŠ åˆ°Rçš„æœç´¢è·¯å¾„ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; rm(col1)
&gt; col1
Error: object 'col1' not found
&gt; attach(b)     #åŠ å…¥æœç´¢è·¯å¾„
The following objects are masked _by_ .GlobalEnv:

    col2, col3

&gt; col1
[1] 1 2 3 4 5
&gt; detach(b)     #ç§»é™¤æœç´¢è·¯å¾„
&gt; col1
Error: object 'col1' not found
</code></pre></div></div>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨<code class="highlighter-rouge">with(æ•°æ®æ¡†,{å‘½ä»¤})</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; with(b,{
+ col1
+ })
[1] 1 2 3 4 5
</code></pre></div></div>

<h3 id="å› å­">å› å­</h3>
<p>å› å­å¯ä»¥ç†è§£ä¸ºå¯¹å·²æœ‰æ•°æ®çš„åˆ†ç±»<br />
ä¸€èˆ¬å«æœ‰å­—ç¬¦å‹çš„æ•°ç»„ï¼Œé»˜è®¤å°±æ˜¯factorå› å­</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sex=factor(c("ç”·","ç”·","å¥³","ç”·"))
&gt; sex
[1] ç”· ç”· å¥³ ç”·
Levels: å¥³ ç”·
</code></pre></div></div>
<p>æŒ‡å®šè®¾ç½®åˆ†ç±»é¡ºåº<code class="highlighter-rouge">levels=c(...)</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sex=factor(c("ç”·","ç”·","å¥³","ç”·"),levels=c("ç”·","å¥³"))
&gt; sex
[1] ç”· ç”· å¥³ ç”·
Levels: ç”· å¥³
</code></pre></div></div>
<p>åˆ†ç±»åï¼Œå¹¶ä¸å½±å“åŸæ•°æ®,å¯ä»¥æ›´å¥½çš„ç”¨äºæ•°æ®åˆ†æ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sex[1]
[1] ç”·
Levels: ç”· å¥³
</code></pre></div></div>
<p>å¸¸å°†åˆ†ç±»åçš„å‘é‡ç»„æˆæ•°æ®æ¡†ï¼Œç”¨äºè¿›ä¸€æ­¥åˆ†æ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; sex
[1] ç”·     ç”·     å¥³     Unkown
Levels: Unkown å¥³ ç”·
&gt; num
[1] 12 14 12 15
Levels: 12 14 15
&gt; name
[1] "Li" "Ya" "CQ" "LL"
&gt; data=data.frame(name,sex,num)
&gt; data
  name    sex num
1   Li     ç”·  12
2   Ya     ç”·  14
3   CQ     å¥³  12
4   LL Unkown  15
&gt; str(data)
'data.frame':   4 obs. of  3 variables:
 $ name: Factor w/ 4 levels "CQ","Li","LL",..: 2 4 1 3
 $ sex : Factor w/ 3 levels "Unkown","å¥³",..: 3 3 2 1
 $ num : Factor w/ 3 levels "12","14","15": 1 2 1 3
&gt; summary(data)
 name       sex    num
 CQ:1   Unkown:1   12:2
 Li:1   å¥³    :1   14:1
 LL:1   ç”·    :2   15:1
 Ya:1
</code></pre></div></div>

<h3 id="åˆ—è¡¨">åˆ—è¡¨</h3>
<p>å°±åƒä¸€ä¸ªåƒåœ¾ç«™ï¼Œä»€ä¹ˆéƒ½èƒ½å¾€é‡Œä¸¢</p>
<h4 id="å®šä¹‰">å®šä¹‰</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>list(keywords1=...,keywords2=a,b,c...,keywords3....)
</code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; list(one=num,two=name,sex)
$one
[1] 12 14 12 15
Levels: 12 14 15

$two
[1] "Li" "Ya" "CQ" "LL"

[[3]]
[1] ç”·     ç”·     å¥³     Unkown
Levels: Unkown å¥³ ç”·
</code></pre></div></div>
<h4 id="è°ƒç”¨listname-keywords">è°ƒç”¨<code class="highlighter-rouge">listname[" keywords"]</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; lista["two"]
$two
[1] "Li" "Ya" "CQ" "LL"
&gt; lista$two
[1] "Li" "Ya" "CQ" "LL"
</code></pre></div></div>

<h3 id="å…¶ä»–">å…¶ä»–</h3>
<h4 id="å¯¹å˜é‡æ³¨é‡Šnames">å¯¹å˜é‡æ³¨é‡Š<code class="highlighter-rouge">names</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; a=c("xiaoming",13)
&gt; a
[1] "xiaoming" "13"
&gt; names(a)[1]="Name"
&gt; names(a)[2]="age"
&gt; a
      Name        age
"xiaoming"       "13"
</code></pre></div></div>

<h3 id="å˜é‡æ•°æ®å¯¹è±¡æ“ä½œ">å˜é‡(æ•°æ®å¯¹è±¡)æ“ä½œ</h3>
<p><code class="highlighter-rouge">class(å˜é‡å)</code>æŸ¥çœ‹å˜é‡ç±»å‹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># åœ¨æ‹¿åˆ°æ•°æ®ä¹‹å‰ç¬¬ä¸€æ­¥è¦åšçš„å°±æ˜¯æ¦‚è§ˆæ•°æ®
head(df,n=10)#æŸ¥çœ‹æ•°æ®é›†çš„å‰åæ¡è®°å½•
str(df)#æŸ¥çœ‹æ•°æ®é›†ç»“æ„
tail(df)#æŸ¥çœ‹æ•°æ®é›†æœ€åéƒ¨åˆ†
sapply(df)#æŸ¥çœ‹æ•°æ®é›†ç±»å‹åŠåç§°
summary(df)#æŸ¥çœ‹æ•°æ®é›†å„å˜é‡æè¿°ç»Ÿè®¡
</code></pre></div></div>

<p>å‡½ æ•° ç”¨ é€”</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>length(object) æ˜¾ç¤ºå¯¹è±¡ä¸­å…ƒç´ /æˆåˆ†çš„æ•°é‡
dim(object) æ˜¾ç¤ºæŸä¸ªå¯¹è±¡çš„ç»´åº¦
str(object) æ˜¾ç¤ºæŸä¸ªå¯¹è±¡çš„ç»“æ„
class(object) æ˜¾ç¤ºæŸä¸ªå¯¹è±¡çš„ç±»æˆ–ç±»å‹
mode(object) æ˜¾ç¤ºæŸä¸ªå¯¹è±¡çš„æ¨¡å¼
names(object) æ˜¾ç¤ºæŸå¯¹è±¡ä¸­å„æˆåˆ†çš„åç§°
c(object, object,â€¦) å°†å¯¹è±¡åˆå¹¶å…¥ä¸€ä¸ªå‘é‡ 

cbind(object, object, â€¦) æŒ‰åˆ—åˆå¹¶å¯¹è±¡
rbind(object, object, â€¦) æŒ‰è¡Œåˆå¹¶å¯¹è±¡
Object è¾“å‡ºæŸä¸ªå¯¹è±¡
head(object) åˆ—å‡ºæŸä¸ªå¯¹è±¡çš„å¼€å§‹éƒ¨åˆ†
tail(object) åˆ—å‡ºæŸä¸ªå¯¹è±¡çš„æœ€åéƒ¨åˆ†
ls() æ˜¾ç¤ºå½“å‰çš„å¯¹è±¡åˆ—è¡¨
rm(object, object, â€¦) åˆ é™¤ä¸€ä¸ªæˆ–æ›´å¤šä¸ªå¯¹è±¡ã€‚è¯­å¥rm(list = ls())
å°†åˆ é™¤å½“å‰å·¥ä½œç¯å¢ƒä¸­çš„å‡ ä¹æ‰€æœ‰å¯¹è±¡*
newobject &lt;- edit(object) ç¼–è¾‘å¯¹è±¡å¹¶å¦å­˜ä¸ºnewobject
fix(object) ç›´æ¥ç¼–è¾‘å¯¹è±¡ï¼Œè°ƒç”¨viç¼–è¾‘
</code></pre></div></div>

<h3 id="å˜é‡æ•°æ®å¯¹è±¡å¤„ç†å‡½æ•°">å˜é‡(æ•°æ®å¯¹è±¡)å¤„ç†å‡½æ•°</h3>
<h4 id="å­—ç¬¦">å­—ç¬¦</h4>

<p><img src="/uploads/2019/05/charfun.jpg" alt="" /></p>

<p>å‡½æ•°<code class="highlighter-rouge">grep()ã€ sub()å’Œstrsplit()</code>
æœç´¢æŸä¸ªæ–‡æœ¬å­—ç¬¦ä¸²ï¼ˆ fixed=TRUEï¼‰<br />
æœç´¢æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ fixed=FALSEï¼Œé»˜è®¤å€¼ä¸ºFALSEï¼‰<br />
æ­£åˆ™è¡¨è¾¾å¼å¯å‚è€ƒ<a href="/2018/10/17/deal-file/">[gitbookæ–‡ç« é‡ç½®] æ­£åˆ™è¡¨è¾¾å¼ grep sed awk</a></p>

<h4 id="è½¬ä¹‰å­—ç¬¦ä¸²">è½¬ä¹‰å­—ç¬¦ä¸²</h4>
<p>è¦ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦æ—¶ï¼Œè¦åœ¨å‰é¢åŠ <code class="highlighter-rouge">\\</code>ï¼Œå¦‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>name=unlist(strsplit(as.character(mydata[id,1]),"\\|"))[3]
</code></pre></div></div>

<h4 id="å…¶ä»–å¤„ç†å‡½æ•°">å…¶ä»–å¤„ç†å‡½æ•°</h4>
<p><img src="/uploads/2019/05/oth.jpg" alt="" /></p>

<h4 id="çŸ©é˜µæ“ä½œ">çŸ©é˜µæ“ä½œ</h4>
<p>è½¬ç½®<code class="highlighter-rouge">t(a)</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; a=matrix(1:10,nrow=2)
&gt; t(a)
     [,1] [,2]
[1,]    1    2
[2,]    3    4
[3,]    5    6
[4,]    7    8
[5,]    9   10
</code></pre></div></div>

<h3 id="æ•´åˆé‡æ„æ•°æ®æš‚ç•¥">æ•´åˆé‡æ„æ•°æ®ï¼Œæš‚ç•¥</h3>

<h2 id="æ•°å­¦å‡½æ•°">æ•°å­¦å‡½æ•°</h2>

<p>å’Œmatlabå·®ä¸å¤šå•Š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x=1:10
plot(x,sin(x))
</code></pre></div></div>
<p>ä¹Ÿå¯ä»¥ç”»xå›¾</p>
<h3 id="æ•°å­¦è¿ç®—">æ•°å­¦è¿ç®—</h3>
<p>abs, å–æ•´, cos, sin, acos,asin,ä¸‰è§’å‡½æ•°,ln=<code class="highlighter-rouge">log(x,base=exp(1))</code></p>

<p><img src="/uploads/2019/05/rfun.jpg" alt="" /></p>

<h3 id="ç»Ÿè®¡å‡½æ•°">ç»Ÿè®¡å‡½æ•°</h3>
<p>mean,sum</p>

<p><img src="/uploads/2019/05/tfun.jpg" alt="" /></p>

<h3 id="æ¦‚ç‡å‡½æ•°">æ¦‚ç‡å‡½æ•°</h3>
<p>åœ¨Rä¸­ï¼Œæ¦‚ç‡å‡½æ•°å½¢å¦‚ï¼š</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[dpqr][åˆ†å¸ƒåç§°](å‚æ•°è¡¨)
</code></pre></div></div>
<p>[dpqr]è¡¨ç¤ºå…¶æ‰€æŒ‡åˆ†å¸ƒçš„æŸä¸€æ–¹é¢ï¼š</p>
<ul>
  <li>d = å¯†åº¦å‡½æ•°ï¼ˆ densityï¼‰!å°±æ˜¯ç»Ÿè®¡å‡½æ•°å€¼</li>
  <li>p = åˆ†å¸ƒå‡½æ•°ï¼ˆ distribution functionï¼‰ !ç»Ÿè®¡å‡½æ•°çš„ç§¯åˆ†</li>
  <li>q = åˆ†ä½æ•°å‡½æ•°ï¼ˆ quantile functionï¼‰</li>
  <li>r = ç”Ÿæˆéšæœºæ•°ï¼ˆéšæœºåå·®ï¼‰!ç”Ÿæˆç¬¦åˆåˆ†å¸ƒçš„ä¸€ç»„æ•°xï¼Œxç¬¦åˆè¿™ä¸€åˆ†å¸ƒå‡½æ•°</li>
</ul>

<p>ä»¥æ­£æ€åˆ†å¸ƒ<code class="highlighter-rouge">norm</code>ä¸ºä¾‹<br />
<img src="/uploads/2019/05/norm.jpg" alt="" />
å…¶ä»–åˆ†å¸ƒåç§°
<img src="/uploads/2019/05/fenbu.jpg" alt="" /></p>

<h4 id="éšæœºæ•°ç§å­">éšæœºæ•°ç§å­</h4>
<p>Ræ¯æ¬¡è®¡ç®—ä¼ªéšæœºæ•°éƒ½ä¼šä½¿ç”¨ä¸åŒçš„éšæœºæ•°ç§å­ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šéšæœºæ•°ç§å­<br />
è¿™æ ·å¯ä»¥é‡å¤å‡º(è‡ªå·±/åˆ«äºº)çš„è®¡ç®—ç»“æœï¼Œå¦‚ä¸‹<br />
**æ³¨æ„ï¼šç§å­åªç”Ÿæ•ˆä¸€æ¬¡ï¼Œè‹¥ä»ä½¿ç”¨è¯¥ç§å­ï¼Œè¦ç»§ç»­<code class="highlighter-rouge">set.seed()</code> **</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; rnorm(10)
 [1]  1.2240818  0.3598138  0.4007715  0.1106827 -0.5558411  1.7869131
 [7]  0.4978505 -1.9666172  0.7013559 -0.4727914
&gt; rnorm(10)
 [1] -1.0678237 -0.2179749 -1.0260044 -0.7288912 -0.6250393 -1.6866933
 [7]  0.8377870  0.1533731 -1.1381369  1.2538149
&gt; set.seed(123)
&gt; rnorm(10)
 [1] -0.56047565 -0.23017749  1.55870831  0.07050839  0.12928774  1.71506499
 [7]  0.46091621 -1.26506123 -0.68685285 -0.44566197
&gt; set.seed(123)
&gt; rnorm(10)
 [1] -0.56047565 -0.23017749  1.55870831  0.07050839  0.12928774  1.71506499
 [7]  0.46091621 -1.26506123 -0.68685285 -0.44566197
</code></pre></div></div>
<h4 id="å¤šå…ƒæ­£æ€æ•°æ®mvrnorm-ç•¥">å¤šå…ƒæ­£æ€æ•°æ®<code class="highlighter-rouge">mvrnorm</code> ç•¥</h4>

<h3 id="å°†å˜é‡çŸ©é˜µæ•°ç»„æ•°æ®æ¡†ä½œä¸ºå‡½æ•°çš„è¾“å…¥å‚æ•°">å°†å˜é‡(çŸ©é˜µï¼Œæ•°ç»„ï¼Œæ•°æ®æ¡†â€¦)ä½œä¸ºå‡½æ•°çš„è¾“å…¥å‚æ•°</h3>
<h4 id="ç›´æ¥ç½®å…¥">ç›´æ¥ç½®å…¥</h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; x=1:10
&gt; sin(x)
 [1]  0.8414710  0.9092974  0.1411200 -0.7568025 -0.9589243 -0.2794155
 [7]  0.6569866  0.9893582  0.4121185 -0.5440211
&gt; xx=matrix(1:10,nrow=2)
&gt; sin(xx)
          [,1]       [,2]       [,3]      [,4]       [,5]
[1,] 0.8414710  0.1411200 -0.9589243 0.6569866  0.4121185
[2,] 0.9092974 -0.7568025 -0.2794155 0.9893582 -0.5440211
&gt; mean(xx)
[1] 5.5
</code></pre></div></div>
<h4 id="apply-æ•°ç»„çŸ©é˜µæŸä¸€ç»´åº¦">apply ï¼ˆæ•°ç»„ï¼ŒçŸ©é˜µï¼‰æŸä¸€ç»´åº¦</h4>
<p><code class="highlighter-rouge">apply(å˜é‡å,ç»´åº¦ï¼Œå‡½æ•°å)</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; apply(xx,1,sin)
           [,1]       [,2]
[1,]  0.8414710  0.9092974
[2,]  0.1411200 -0.7568025
[3,] -0.9589243 -0.2794155
[4,]  0.6569866  0.9893582
[5,]  0.4121185 -0.5440211
&gt; apply(xx,1,mean)
[1] 5 6
</code></pre></div></div>
<h4 id="lapplysapply-åˆ—è¡¨listçš„æŸä¸€ç»´åº¦æš‚ç•¥">lapply,sapply (åˆ—è¡¨list)çš„æŸä¸€ç»´åº¦ï¼Œæš‚ç•¥</h4>

<h3 id="è‡ªç¼–å‡½æ•°">è‡ªç¼–å‡½æ•°</h3>

<h2 id="åˆ¤æ–­">åˆ¤æ–­</h2>
<h3 id="if">if</h3>
<p><strong><code class="highlighter-rouge">}</code>åè·Ÿæ–°çš„<code class="highlighter-rouge">else</code></strong></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (æ¡ä»¶)
{ 
æ‰§è¡Œ
}else if
{
æ‰§è¡Œ    
}else{
æ‰§è¡Œ 
}
</code></pre></div></div>
<p>ç¤ºä¾‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; if(a==10)
+ {
+ a=5
+ }
&gt; if(a==5)
+ {
+ a=5
+ }else if(a==6)
+ {
+ a=6
+ }else
+ {a=10
+ }
&gt; a
[1] 5
</code></pre></div></div>
<h3 id="swith">swith</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>swith(è¡¨è¾¾å¼,case1,case2,cse3)
#è¡¨è¾¾å¼ä¸ºæ•´æ•°æ—¶ï¼Œè¿”å›è¡¨è¾¾å¼å¯¹åº”çš„caseå€¼
#è¡¨è¾¾å¼ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œcaseå¿…é¡»æœ‰åç§°ï¼Œè§ä¸‹ä¾‹ï¼Œè¿”å›caseå€¼
#éæ•´æ•°éå­—ç¬¦ä¸²ï¼Œç³»ç»Ÿä¼šè½¬æ¢æˆæ•´æ•°
</code></pre></div></div>
<p>å¥½åƒå°±åªèƒ½è¿™ä¹ˆç”¨</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; a=2
&gt; switch(a,"ming","hong","li")
[1] "hong"
&gt; switch("a",a="ming",b="hong",c="li")
[1] "ming"
</code></pre></div></div>

<h3 id="ä¸æˆ–é">ä¸æˆ–é</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&amp;ã€|ã€!ã€&amp;&amp;ã€||ã€xor
</code></pre></div></div>

<h2 id="å¾ªç¯">å¾ªç¯</h2>
<h3 id="for--i-in-seq">for ( i in seq)</h3>
<p>è‹¥çœç•¥<code class="highlighter-rouge">{ }</code>åªå¾ªç¯forä¸‹é¢çš„ä¸€å¥ï¼Œç±»ä¼¼c</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; for (i in 1:10)
+ {
+ y[i]=i
+ }
</code></pre></div></div>
<h3 id="while-æ¡ä»¶">while (æ¡ä»¶)</h3>
<p>ä¸forä¸€æ ·</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; &gt; while (i&gt;5)
+ {
+ i=i-2
+ y=i
+ }
</code></pre></div></div>
<h3 id="å¾ªç¯æ§åˆ¶breakå’Œnext">å¾ªç¯æ§åˆ¶breakå’Œnext</h3>
<h2 id="è‡ªå®šä¹‰å‡½æ•°">è‡ªå®šä¹‰å‡½æ•°</h2>
<p><strong>å…ˆå®šä¹‰åä½¿ç”¨</strong>
ç¤ºä¾‹</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>myfun=function(x,y=2,z=3)
{
a=x*y+z
return(a)
}
myfun(x=0)
</code></pre></div></div>
<p>è°ƒç”¨å…¶ä»–æ–‡ä»¶ä¸­çš„å‡½æ•°ï¼Œå…ˆ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source("myfun.R")
y=myfun(x=0)
</code></pre></div></div>

<h2 id="æŠŠsourceå½“æ¨¡å—ç”¨">æŠŠsourceå½“æ¨¡å—ç”¨</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>source("myfun.R")
</code></pre></div></div>

<h2 id="ç»˜å›¾">ç»˜å›¾</h2>

<h3 id="å‡½æ•°">å‡½æ•°</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>plot æ•£ç‚¹ï¼Œç‚¹çº¿
hist ç›´æ–¹å›¾
boxplot
par 
...ç­‰ç­‰
</code></pre></div></div>
<p>çº¿æ€§ï¼Œæ¯”ä¾‹å°ºç­‰ä¹Ÿå¯ä»¥è°ƒæ§ï¼Œéƒ½å¯ä»¥æŸ¥è¡¨ï¼Œæˆ–è€…å•ç‹¬åšä¸€ä¸ªæ•™ç¨‹ï¼Œæ­¤æ–‡ä¸å¤šè®²ï¼Œï¼ˆä¼°è®¡æ²¡ï¼‰æœ‰æ—¶é—´é‡å¼€ä¸€ä¸ªæ–‡ç« å†™ç»˜å›¾</p>

<p>prettyç”Ÿæˆç‰¹å®šåæ ‡ï¼Œç”¨äºç”»å›¾</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pretty(x,n) åˆ›å»ºç¾è§‚çš„åˆ†å‰²ç‚¹ã€‚é€šè¿‡é€‰å–n+1ä¸ªç­‰é—´è·çš„å–æ•´å€¼ï¼Œå°†ä¸€ä¸ªè¿ç»­å‹å˜é‡xåˆ†å‰²ä¸ºnä¸ªåŒºé—´
pretty(1:15)          # 0  2  4  6  8 10 12 14 16
pretty(1:15, h = 2)   # 0  5 10 15
pretty(1:15, n = 4)   # 0  5 10 15
pretty(1:15 * 2)      # 0  5 10 15 20 25 30
pretty(1:20)          # 0  5 10 15 20
pretty(1:20, n = 2)   # 0 10 20
pretty(1:20, n = 10)  # 0  2  4 ... 20
</code></pre></div></div>

<h2 id="æ ¼å¼åŒ–è¾“å…¥è¾“å‡º">æ ¼å¼åŒ–è¾“å…¥è¾“å‡º</h2>
<h3 id="catè¾“å‡ºä¿¡æ¯åˆ°å±å¹•æ–‡ä»¶"><code class="highlighter-rouge">cat</code>è¾“å‡ºä¿¡æ¯åˆ°å±å¹•/æ–‡ä»¶</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#æºç 
#!/usr/bin/env Rscript
cat("the total number is:",3+5,"\n")
#sepæŒ‡å®šå„ä¸ªé—´éš”ï¼Œfile="è¾“å‡ºåˆ°æ–‡ä»¶"
cat(1:4,"\n",sep="\t",file="catout") #é»˜è®¤æ¸…é™¤æºæ–‡ä»¶è¾“å…¥
cat(1:4,sep=c(",","!","@","\n"),file="catout", append = TRUE) # append = TRUEè¿½åŠ åˆ°æœ«å°¾
#sepä¹Ÿå¯ä»¥æŒ‡å®šæ¯ä¸€ä¸ªå­—ç¬¦ä¹‹é—´çš„é—´éš”
#ä¹Ÿå¯ä½¿ç”¨   sep=c(rep("\t",3),"\n") 
cat(1:4,sep=c(rep("\t",3),"\n"),file="catout", append = TRUE)
x=3+4
print(x)
#è¿è¡Œ
cndaqiang@win10:~/code/R/Rcode&gt; ./test.R
the total number is: 8
[1] 7
cndaqiang@win10:~/code/R/Rcode&gt; cat catout
1       2       3       4
1,2!3@4
1       2       3       4
</code></pre></div></div>
<p>è¿˜å¯ä»¥è¿™æ ·</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com=system("ls")
cat(com)
#ç»“æœ
cndaqiang@win10:~/code/R/Rcode&gt; ./test.R
catout    Cv.dat    myf.f90  myf.so           RCv.R       test      windowscode
cnq.R     ggplot.r  myf.mod  myfun.R          Rgraph.R    test.dat
cnq.Rout  input.R   myf.o    PErrorBar_CNQ.R  Rplots.pdf  test.R
</code></pre></div></div>
<h3 id="printçš„è¾“å‡ºä¼šå¸¦å¾ˆå¤šä¿¡æ¯å¦‚ä¸Š"><code class="highlighter-rouge">print</code>çš„è¾“å‡ºä¼šå¸¦å¾ˆå¤šä¿¡æ¯ï¼Œå¦‚ä¸Š</h3>

<h2 id="æ–‡ä»¶è¯»å†™">æ–‡ä»¶è¯»å†™</h2>
<h3 id="æ‰‹è¾“å…¥edit">æ‰‹è¾“å…¥<code class="highlighter-rouge">edit()</code></h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>new=edit()
</code></pre></div></div>
<p>ç„¶åå¡«å…¥<code class="highlighter-rouge">c(1,2,3)</code>å³ç­‰ä»·äº<code class="highlighter-rouge">new=c(1,2,3)</code><br />
ä¹Ÿå¯ä»¥åœ¨<code class="highlighter-rouge">edit()</code>æ‹¬å·ä¸­åŠ å…¥å…¶ä»–å˜é‡ï¼Œè¿›è¡Œä¿®æ”¹,ä¸å½±å“åŸæ•°æ®</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; new=edit(c(2,3,4))
</code></pre></div></div>
<h3 id="ä»æ–‡æœ¬æ–‡ä»¶è¯»å…¥">ä»æ–‡æœ¬æ–‡ä»¶è¯»å…¥</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>read.table("æ–‡ä»¶å"[,header=T/F,sep="é—´éš”æ ‡è¯†ç¬¦",row.name="å˜é‡å"]) 
Cv=read.table("Cv.dat",skip=1) #skipè·³è¿‡è¡Œå·
</code></pre></div></div>
<ul>
  <li>headeræ˜¯å¦å°†æ•°æ®æ–‡ä»¶çš„ç¬¬ä¸€è¡Œè¯†åˆ«ä¸ºå˜é‡å,å¦‚
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; read.table("my.dat")
 V1  V2  V3
1 num one two
2   1  11  21
3   2  12  22
4   3  13  23
&gt; read.table("my.dat",header=T)
num one two
1   1  11  21
2   2  12  22
3   3  13  23
</code></pre></div>    </div>
  </li>
  <li>sepæ•°æ®é—´éš”ï¼Œé»˜è®¤ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦æˆ–å›è½¦ç¬¦ï¼Œé»˜è®¤å°±è¡Œ</li>
  <li>row.name=â€å˜é‡åâ€ï¼Œå°†å˜é‡åæ‰€åœ¨åˆ—ä½œä¸ºè¡Œå
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; read.table("my.dat",header=T,row.name="num")
one two
1  11  21
2  12  22
3  13  23
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="ä¿å­˜æ•°æ®">ä¿å­˜æ•°æ®</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>write.csv(Dipole,"RDipole.csv",row.names =F)
#======ä¿å­˜å›¾ç‰‡
#
pdf("RDipole.pdf")
#png("filename.png")
#jpeg("filename.jpeg")
#bmp("filename.bmp")
#
#
#
#
for ( direct in 2:4)
{
plot(Dipole[,1],Dipole[,direct],type="l",main = "Dipole", xlab = names(Dipole)[1],  ylab = names(Dipole)[direct])
}
dev.off()

#æ§åˆ¶ç”»æ¿
png(file="my.png",width=800,height=30000)
</code></pre></div></div>
<h4 id="writecsvé»˜è®¤sepæ˜¯å…¶ä»–å…·ä½“å‚æ•°åŒwritetable">write.csvé»˜è®¤sepæ˜¯<code class="highlighter-rouge">,</code>ï¼Œå…¶ä»–å…·ä½“å‚æ•°åŒ<code class="highlighter-rouge">write.table</code></h4>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>write.table (x, file ="", sep ="", row.names =TRUE, col.names =TRUE, quote =TRUE)

xï¼šéœ€è¦å¯¼å‡ºçš„æ•°æ® 
fileï¼šå¯¼å‡ºçš„æ–‡ä»¶è·¯å¾„ 
sepï¼šåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ï¼ˆâ€ â€œï¼‰ï¼Œä¹Ÿå°±æ˜¯ä»¥ç©ºæ ¼ä¸ºåˆ†å‰²åˆ— 
row.namesï¼šæ˜¯å¦å¯¼å‡ºè¡Œåºå·ï¼Œé»˜è®¤ä¸ºTRUEï¼Œä¹Ÿå°±æ˜¯å¯¼å‡ºè¡Œåºå· 
col.namesï¼šæ˜¯å¦å¯¼å‡ºåˆ—åï¼Œé»˜è®¤ä¸ºTRUEï¼Œä¹Ÿå°±æ˜¯å¯¼å‡ºåˆ—å 
quoteï¼šå­—ç¬¦ä¸²æ˜¯å¦ä½¿ç”¨å¼•å·è¡¨ç¤ºï¼Œé»˜è®¤ä¸ºTRUEï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨å¼•å·è¡¨ç¤º
</code></pre></div></div>
<p><strong>è²Œä¼¼write.csvåœ¨è¾“å‡ºdata.frameæ—¶è¿˜æ˜¯æ¯”ä¸è¿‡write.table</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; write.table(TDEFIELD_all,file="test",row.names =F, col.names =FALSE)
&gt; write.csv(TDEFIELD_all,file="test",row.names =F, col.names =FALSE)
Warning message:
In write.csv(TDEFIELD_all, file = "test", row.names = F, col.names = FALSE) :
  ä¸èƒ½ä¿®æ”¹'col.names'
</code></pre></div></div>

<h3 id="å…¶ä»–-1">å…¶ä»–</h3>

<h2 id="rè°ƒç”¨fortran">Rè°ƒç”¨Fortran</h2>

<p>Rä¼šè‡ªåŠ¨ç¼–è¯‘æ–‡ä»¶<br />
myf.90æ–‡ä»¶</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>subroutine myfun(a,a2)
    REAL(8) :: a,a2 #Fortranå¿…é¡»ä½¿ç”¨åŒç²¾åº¦
    open(unit=20,file="test")
    write(20,*) a,a2
    close(20)
end subroutine myfun

subroutine ofun(a,b)
    REAL(8) :: a,b
    b=a**10
end subroutine ofun

</code></pre></div></div>
<p>cnq.Ræ–‡ä»¶</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env Rscript</span><span class="w">
</span><span class="n">system</span><span class="p">(</span><span class="s2">"R CMD SHLIB myf.f90"</span><span class="p">)</span><span class="w">  </span><span class="c1">#ç¼–è¯‘åŠ¨æ€åº“</span><span class="w">
</span><span class="c1">#å¥½åƒä¼šè‡ªåŠ¨æ ¹æ®æ—¶é—´æˆ³ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°ç¼–è¯‘</span><span class="w">
</span><span class="n">dyn.load</span><span class="p">(</span><span class="s2">"myf.so"</span><span class="p">)</span><span class="w"> </span><span class="c1">#å¯¼å…¥åŠ¨æ€åº“</span><span class="w">
</span><span class="c1">#.Fortran("å‡½æ•°å",[ç´¢å¼•1=]as.ç±»å‹(è¾“å…¥æ•°æ®),[ç´¢å¼•2=]as.ç±»å‹(è¾“å…¥æ•°æ®).....)</span><span class="w">
</span><span class="c1">#ç´¢å¼•ä»»æ„ä¹Ÿå¯ä»¥æ²¡æœ‰</span><span class="w">
</span><span class="c1">#è®¡ç®—ç»“æœä¸ºlistå‹ï¼Œä½¿ç”¨[ ]æˆ–$æå–è®¡ç®—ç»“æœ</span><span class="w">
</span><span class="n">input</span><span class="o">=</span><span class="m">0</span><span class="w">
</span><span class="n">output</span><span class="o">=</span><span class="m">0</span><span class="w">
</span><span class="n">c</span><span class="o">=</span><span class="n">.Fortran</span><span class="p">(</span><span class="s2">"ofun"</span><span class="p">,</span><span class="n">inp</span><span class="o">=</span><span class="nf">as.double</span><span class="p">(</span><span class="m">2</span><span class="p">),</span><span class="n">outp</span><span class="o">=</span><span class="nf">as.double</span><span class="p">(</span><span class="m">4</span><span class="p">))[</span><span class="s2">"outp"</span><span class="p">]</span><span class="w">
</span><span class="n">.Fortran</span><span class="p">(</span><span class="s2">"myfun"</span><span class="p">,</span><span class="n">a</span><span class="o">=</span><span class="nf">as.double</span><span class="p">(</span><span class="m">2</span><span class="p">),</span><span class="n">a2</span><span class="o">=</span><span class="nf">as.double</span><span class="p">(</span><span class="n">c</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>
<p>æŸ¥çœ‹è®¡ç®—ç»“æœ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cndaqiang@win10:/mnt/e/work/CODE/R/Rcode&gt; cat test
   2.0000000000000000        1024.0000000000000
</code></pre></div></div>

<h2 id="rè°ƒç”¨python">Rè°ƒç”¨Python</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># å®‰è£…reticulateåŒ…
install.packages("reticulate")
# åŠ è½½reticulateåŒ…
library(reticulate)
&gt; os=import("os")
&gt; os$system("python --version")
Python 2.7.16 :: Anaconda, Inc.
[1] 0
result=import("pyramids.io.result")
dipo=result$getDipolePython()

 
</code></pre></div></div>

<h2 id="æœ‰è¶£">æœ‰è¶£</h2>
<h3 id="assignå°†å­—ç¬¦ä¸²è½¬ä¸ºå˜é‡"><code class="highlighter-rouge">assign</code>å°†å­—ç¬¦ä¸²è½¬ä¸ºå˜é‡</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; x
 [1]  1  2  3  4  5  6  7  8  9 10
&gt; assign('ww',x)#è½¬ä¸ºå˜é‡å¹¶èµ‹å€¼x
&gt; ww
 [1]  1  2  3  4  5  6  7  8  9 10
 
#get()ï¼šè¿”å›ä¸å­—ç¬¦ä¸²åŒåçš„å˜é‡çš„å€¼,å¹¶è½¬æˆå­—ç¬¦ä¸²
#assign():ä¸ºå­—ç¬¦ä¸²å˜é‡çš„å­—ç¬¦ä¸²èµ‹å€¼
&gt; get("xx")
 [1] "1" "1" "1" "1" "1" "1" "1" "1" "0" "0"
&gt; 

</code></pre></div></div>
<h3 id="systemls"><code class="highlighter-rouge">system("ls")</code></h3>
<p>è°ƒç”¨ç³»ç»Ÿå‘½ä»¤<code class="highlighter-rouge">system("ç³»ç»Ÿå‘½ä»¤")</code></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>com=system(c("cd ..;ls"))
#æŸ¥çœ‹ä¿å­˜å˜é‡
cat(com)
#æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°com
æˆ–è€…
&gt; com=system(c("cd ..;ls"),intern=T)
&gt; com
[1] "Ag55"        "Ag55.tar.gz" "graphenTDAP" "H2O"         "test-O3"
</code></pre></div></div>

<h2 id="å°†rè¯­è¨€å˜æˆlinuxçš„å°è„šæœ¬ä½¿ç”¨">å°†Rè¯­è¨€ï¼Œå˜æˆLinuxçš„å°è„šæœ¬ä½¿ç”¨</h2>
<h3 id="åœ¨è¶…ç®—ä¸Šç¼–è¯‘å®‰è£…råˆ°ä¸ªäººç›®å½•">åœ¨è¶…ç®—ä¸Šç¼–è¯‘å®‰è£…Råˆ°ä¸ªäººç›®å½•</h3>
<p>ç¼–è¯‘æ—¶å€™å‘ç°,Rè¯­è¨€ç¼–è¯‘æ—¶æœ‰lapackï¼Œä¸é”™ä¸é”™</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://mirrors.tuna.tsinghua.edu.cn/CRAN/src/base/R-3/R-3.6.0.tar.gz
tar xzvf R-3.6.0.tar.gz 
cd R-3.6.0/
module load  mpi/mvapich2/gnu/2.3b
./configure --prefix=/public/home/cndaqiang/soft/gcc-MVAPICH/R-3.6.0
make #ä¸æ”¯æŒ-j20
make install
PATH=/public/home/chendq/soft/gcc-MVAPICH/R-3.6.0/bin:$PATH
#--------------------------------------------
#Error ï¼šconfigure: error: libcurl &gt;= 7.22.0 library and headers are required with support for https
#å‚è€ƒhttps://www.chengzi520.com/?p=1912
wget https://curl.haxx.se/download/curl-7.57.0.tar.gz
tar zxvf curl-7.57.0.tar.gz
cd curl-7.57.0
./configure --prefix=/home/cndaqiang/software/gcc-4.8.5-openmpi-1.10.7/curl-7.57.0
make &amp;&amp; make install 
# åœ¨~/.bashrcæ·»åŠ ï¼š
#R
CURLDIR=/home/cndaqiang/software/gcc-4.8.5-openmpi-1.10.7/curl-7.57.0
export PATH=$CURLDIR/bin:$PATH
export LD_LIBRARY_PATH=$CURLDIR/lib:$LD_LIBRARY_PATH
#ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼š
source ~/.bashrc
#--------------------------------------------------
#WARNINGï¼šconfigure: WARNING: neither inconsolata.sty nor zi4.sty found: PDF vignettes and package manuals will not be rendered optimally è­¦å‘Š
#æˆ‘ä»¬å¿½è§†äº†è¿™ä¸ªé”™è¯¯ï¼Œæœ‰äººè§£å†³å¦‚ä¸‹
#https://my.oschina.net/u/2429108/blog/552977
3) ä¸‹è½½å®‰è£… inconsolata.sty
ä¸‹è½½ ï¼šwget http://mirrors.ctan.org/fonts/inconsolata.zip
è§£å‹ ï¼šUnzip inconsolata.zip 
å°†æ–‡ä»¶æ‹·è´åˆ°ç›®å½•ä¸‹ï¼š
        cp -Rfp inconsolata/* /usr/share/texmf/
 åˆ·æ–°sty ï¼š
        mktexlsr
</code></pre></div></div>
<h3 id="è„šæœ¬">è„šæœ¬</h3>
<p>æ–‡ä»¶å¼€å¤´</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env Rscript</span><span class="w">
</span><span class="n">margs</span><span class="o">=</span><span class="n">commandArgs</span><span class="p">()</span><span class="w">
</span><span class="c1">#å‚æ•°</span><span class="w">
</span><span class="c1">#print(margs)</span><span class="w">
</span><span class="c1">#cndaqiang@win10:/mnt/e/work/CODE/R/Rcode&gt; ./input.R 1 2 3</span><span class="w">
</span><span class="c1">#[1] "/usr/lib64/R/bin/exec/R" "--slave"</span><span class="w">
</span><span class="c1">#[3] "--no-restore"            "--file=./input.R"</span><span class="w">
</span><span class="c1">#[5] "--args"                  "1"</span><span class="w">
</span><span class="c1">#[7] "2"                       "3"</span><span class="w">
</span><span class="c1">#linuxä¸­ï¼Œç¬¬6ä¸ªå¼€å§‹æ‰æ˜¯ç”¨æˆ·è¾“å…¥çš„å‚æ•°</span><span class="w">
</span><span class="n">inpara</span><span class="o">=</span><span class="n">margs</span><span class="p">[</span><span class="m">6</span><span class="o">:</span><span class="nf">length</span><span class="p">(</span><span class="n">margs</span><span class="p">)]</span><span class="w">
</span><span class="c1">#å¸¸ç”¨åŒ…</span><span class="w">
</span><span class="c1">#ggplot2</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p>å¿«é€Ÿç”»å›¾</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env Rscript</span><span class="w">
</span><span class="c1">##################################</span><span class="w">
</span><span class="c1"># Author : cndaqiang             #</span><span class="w">
</span><span class="c1"># Update : 2019-05-11            #</span><span class="w">
</span><span class="c1"># Build  : 2019-05-11            #</span><span class="w">
</span><span class="c1"># What   : ç”»x,yå›¾               #</span><span class="w">
</span><span class="c1">##################################</span><span class="w">
</span><span class="c1">#å¤´æ–‡ä»¶</span><span class="w">
</span><span class="c1">#å‡½æ•°åº“</span><span class="w">
</span><span class="n">source</span><span class="p">(</span><span class="s2">"~/scripts/R-module/head.R"</span><span class="p">)</span><span class="w">
</span><span class="c1">#source(paste(CNQMODULEPATH,"xxx.R"))</span><span class="w">
</span><span class="n">datafile</span><span class="o">=</span><span class="n">inpara</span><span class="p">[</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="c1">#ç¬¬ä¸€ä¸ªè¾“å…¥å‚æ•°ä¸ºæ•°æ®æ–‡ä»¶å</span><span class="w">
</span><span class="n">skipline</span><span class="o">=</span><span class="n">inpara</span><span class="p">[</span><span class="m">2</span><span class="p">]</span><span class="w"> </span><span class="c1">#ç¬¬äºŒä¸ªè¾“å…¥å‚æ•°ä¸ºæ˜¯å¦è·³è¿‡ç¬¬ä¸€è¡Œ</span><span class="w">
</span><span class="n">rplot</span><span class="o">=</span><span class="k">function</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span><span class="n">xlable</span><span class="o">=</span><span class="s2">"x"</span><span class="p">,</span><span class="n">ylable</span><span class="o">=</span><span class="s2">"y"</span><span class="p">,</span><span class="n">qtitle</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span><span class="n">skipline</span><span class="o">=</span><span class="m">0</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
</span><span class="c1">#datafile="Cv.dat" #è¾“å…¥æ–‡ä»¶</span><span class="w">
</span><span class="c1">#xlable="x" #xæ ‡ç­¾</span><span class="w">
</span><span class="c1">#ylable="y" #yæ ‡ç­¾</span><span class="w">
</span><span class="c1">#skipline=1 #è·³è¿‡å¼€å¤´çš„å‡ è¡Œ</span><span class="w">
</span><span class="c1">#è¯»å…¥æ•°æ®</span><span class="w">
    </span><span class="n">mydata</span><span class="o">=</span><span class="n">read.table</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span><span class="n">skip</span><span class="o">=</span><span class="n">skipline</span><span class="p">)</span><span class="w">
    </span><span class="n">datacol</span><span class="o">=</span><span class="nf">length</span><span class="p">(</span><span class="n">mydata</span><span class="p">[</span><span class="m">1</span><span class="p">,])</span><span class="w">
    </span><span class="n">datarow</span><span class="o">=</span><span class="nf">length</span><span class="p">(</span><span class="n">mydata</span><span class="p">[,</span><span class="m">1</span><span class="p">])</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">datacol</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="n">plot</span><span class="p">(</span><span class="n">mydata</span><span class="p">,</span><span class="n">type</span><span class="o">=</span><span class="s2">"b"</span><span class="p">,</span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">qtitle</span><span class="p">,</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xlable</span><span class="p">,</span><span class="w">  </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ylable</span><span class="p">)</span><span class="w">
    </span><span class="p">}</span><span class="k">else</span><span class="w">
    </span><span class="p">{</span><span class="w">

        </span><span class="n">ydata</span><span class="o">=</span><span class="n">mydata</span><span class="p">[,</span><span class="m">2</span><span class="o">:</span><span class="n">datacol</span><span class="p">]</span><span class="w"> </span><span class="c1">#</span><span class="w">
        </span><span class="n">xdata</span><span class="o">=</span><span class="n">mydata</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w"> </span><span class="c1">#ç¬¬ä¸€åˆ—</span><span class="w">
        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">2</span><span class="o">:</span><span class="n">datacol</span><span class="w"> </span><span class="p">)</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="n">y</span><span class="o">=</span><span class="n">mydata</span><span class="p">[,</span><span class="n">i</span><span class="p">]</span><span class="w">
            </span><span class="n">x</span><span class="o">=</span><span class="n">mydata</span><span class="p">[,</span><span class="m">1</span><span class="p">]</span><span class="w">
            </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">type</span><span class="o">=</span><span class="s2">"b"</span><span class="p">,</span><span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">qtitle</span><span class="p">,</span><span class="w"> </span><span class="n">sub</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">xlab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xlable</span><span class="p">,</span><span class="w">  </span><span class="n">ylab</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ylable</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="n">rplot</span><span class="p">(</span><span class="n">datafile</span><span class="p">,</span><span class="n">xlable</span><span class="o">=</span><span class="n">inpara</span><span class="p">[</span><span class="m">3</span><span class="p">],</span><span class="n">ylable</span><span class="o">=</span><span class="n">inpara</span><span class="p">[</span><span class="m">4</span><span class="p">],</span><span class="n">qtitle</span><span class="o">=</span><span class="n">inpara</span><span class="p">[</span><span class="m">5</span><span class="p">],</span><span class="n">skipline</span><span class="o">=</span><span class="n">skipline</span><span class="p">)</span><span class="w">

</span></code></pre></div></div>

<h3 id="é›†æˆåˆ°makefileé‡Œç¼–è¯‘è®¡ç®—ç”»å›¾ç®€ç›´ä¸è¦å¤ªçˆ½">é›†æˆåˆ°makefileé‡Œ,ç¼–è¯‘è®¡ç®—,ç”»å›¾,ç®€ç›´ä¸è¦å¤ªçˆ½</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>test:$(TEST)
	$(FC)  $(FFLAGS) -o test $(OBJS) $(LIBS)
	./test &gt; result.dat
	./plot.r
</code></pre></div></div>

<h3 id="è°ƒç”¨shellçš„grepç»„åˆæ“ä½œ">è°ƒç”¨shellçš„<code class="highlighter-rouge">grep</code>ç»„åˆæ“ä½œ</h3>
<p>æå–çŸ©é˜µ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Dipole=paste("grep 'Electric dipole (a.u.)' ",result,"|grep 'TDAP' |awk '{printf \"%f,%f,%f,\",  $(NF-2),$(NF-1),$NF }' ")
Dipole=system(Dipole,intern=T)
Dipole=as.numeric(as.vector(unlist(strsplit(Dipole,",")))) #åˆ†ç¦»åï¼Œé»˜è®¤æ˜¯listï¼Œè½¬ä¸ºå‘é‡å’Œæ•°å€¼å‹
Dipole=c(Dipole)
Dipole=matrix(Dipole,ncol=3,byrow=T)
</code></pre></div></div>
<p>è¯»å…¥fdfæ ¼å¼</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#======è¯»å…¥æ—¶é—´
MD.LengthTimeStep=paste("grep -i '^MD.LengthTimeStep'",result,"|awk '{ print $2 }'")
#æ­¤å¤„é»˜è®¤å•ä½æ˜¯fsäº†ï¼Œä¸å¯¹fsè¿›è¡Œåˆ¤æ–­
MD.LengthTimeStep=as.numeric(system(MD.LengthTimeStep,intern=T))
MD.FinalTimeStep=paste("grep -i '^MD.FinalTimeStep'",result,"|awk '{ print $2 }'")
MD.FinalTimeStep=as.numeric(system(MD.FinalTimeStep,intern=T))
</code></pre></div></div>
<p>è¯»å…¥fdf block</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#è¡Œå·
phyHang=paste("grep -ni '^%block myblock'",input.fdf,"|awk -F: '{ print $1 }'")
phyHang=paste("hang=$(",phyHang,")")
phyHang=paste(phyHang,"hang=$(echo ${hang}+1|bc)",sep=";")
#è¯»å…¥
phy=paste(phyHang,";sed -n ${hang}p",input.fdf)
phy=system(phy,intern=T)
#
phy=as.vector(unlist(strsplit(phy," +"))) #ä»¥ç©ºæ ¼åˆ†å¼€ï¼Œstrsplitç”Ÿæˆçš„æ˜¯listï¼Œè¦è½¬ä¸ºå‘é‡
phy=c(as.numeric(phy))

phydata=phy[1]       #æœ‰ç‰©ç†å«ä¹‰
phydata=phy[2]   #æœ‰ç‰©ç†å«ä¹‰
phydata=phy[3]       #æœ‰ç‰©ç†å«ä¹‰
phydata=phy[4]           #æœ‰ç‰©ç†å«ä¹‰
phydata=phy[5]           #æœ‰ç‰©ç†å«ä¹‰
</code></pre></div></div>
<h2 id="plot">plot</h2>
<p>ä½¿ç”¨<code class="highlighter-rouge">plot</code>è¿›è¡Œç”»å›¾æ—¶ï¼Œæ•°æ®æ¡†çš„ä¸€åˆ—ï¼Œä¸€å®šè¦å†™æˆ<code class="highlighter-rouge">mydata[,lie]</code>ï¼ŒæŠŠä¸€åˆ—ææˆæ•°ç»„ï¼Œé‚£ä¸ª<code class="highlighter-rouge">,</code>ä¸èƒ½å°‘
ç¤ºä¾‹ï¼Œ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pdf(file="RCurrentFFT.pdf")
for ( direct in 2:colnum)
{
plot(myfft[1:myn/2,1],myfft[1:myn/2,direct],type="l",main = "Current FFT", xlab = paste(names(myfft)[1],"FFT"), ylab = paste(names(myfft)[direct],"FFT") )
#----ä¸‹é¢ä¸ºåŠ textåˆ°å›¾ä¸­
minfft=max(myfft[1:myn/2,direct])/10
peak=(myfft[2:(myn/2),direct] &gt; myfft[1:(myn/2-1),direct]) &amp; (myfft[2:(myn/2),direct] &gt; myfft[3:(myn/2+1),direct]) &amp; ( myfft[2:(myn/2),direct] &gt; minfft ) 
peak=c(T,peak,(1:(myn-2) &lt; 0))
text(myfft[peak,1],myfft[peak,direct],format(myfft[peak,1],digits = 3),cex=1,pos=1,col="red")
#x,y,æ˜¾ç¤ºçš„å†…å®¹
}
dev.off()
</code></pre></div></div>
<h2 id="ggplot2">ggplot2</h2>
<p>ä»£ç çš„å‘å±•ï¼Œå¾ˆå¤šå‡½æ•°éƒ½å˜äº†ï¼Œæ³¨æ„ï¼Œæœ‰çš„æ•™ç¨‹ç»™çš„å‡½æ•°ä¸èƒ½ç”¨</p>
<h3 id="qplot">qplot</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qplot(æ•°æ®æ¡†ç´¢å¼•,æ•°æ®æ¡†ç´¢å¼•,data=æ•°æ®æ¡†)
&gt; price=1:10
&gt; num=sin(price)
&gt; mydata=data.frame(price,num)
qplot(price,num,data=mydata)
#ä¹Ÿå¯ä»¥ä½¿ç”¨æ•°å­¦å‡½æ•°å¤„ç†
qplot(price,log(x),data=mydata)
#ä¹Ÿå¯ä»¥æ˜¯æ•°æ®æ¡†å†…å¤šç»„æ•°æ®çš„è®¡ç®—ç»“æœ
qplot(price,log(x)*num,data=mydata)
</code></pre></div></div>
<p>æ ¹æ®åˆ†ç±»ï¼Œç¡®å®šé¢œè‰²å’Œå°ºå¯¸</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; qplot(price,num,data=data,colour=good,shape=xx,size=num,alpha=num/10)
#shape=å­—ç¬¦å‹ï¼Œä¸ç„¶æŠ¥é”™
#colorå­—ç¬¦æ•°å­éƒ½è¡Œï¼Œå›¾å½¢é¢œè‰²
#sizeæŒ‡å®šå¤§å°
#alphaé€æ˜åº¦[0-1]ä¹‹é—´
&gt; mydata
   price        num xx good
1      1  0.8414710  1    0
2      2  0.9092974  1    0
3      3  0.1411200  1    0
4      4 -0.7568025  1    0
5      5 -0.9589243  1    0
6      6 -0.2794155  1    1
7      7  0.6569866  1    1
8      8  0.9893582  1    1
9      9  0.4121185  0    1
10    10 -0.5440211  0    1

</code></pre></div></div>
<p>geomæŒ‡å®šå½¢çŠ¶</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>qplot(price,num,data=data,geom="line")
#geom="path","line"è¿çº¿
#geom="point" é»˜è®¤æ•£ç‚¹
#"smooth"å¹³æ»‘ï¼Œä½¿ç”¨span,methodç­‰ç»§ç»­æ§åˆ¶ï¼Œ
#qplot(num,price,data=data,geom=c("smooth"),span=0.5,method="gam")
#ä¹Ÿå¯ä»¥ç»„åˆå¤šç§å›¾å½¢
qplot(price,num,data=data,geom=c("point","line"))
</code></pre></div></div>
<p>ä¿å­˜</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ggsave("my.png")
</code></pre></div></div>
<p>è²Œä¼¼åªä¿å­˜æœ€è¿‘çš„å›¾</p>

<h3 id="ggplot">ggplot</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#ç”»å›¾
png(outfile)
mypicture=ggplot(mydata,aes(x=xdata,y=ydata,color=orderdata))+geom_point()
#åŠ æ°´å¹³å‚ç›´å‚è€ƒçº¿(é˜ˆå€¼çº¿),ç”±è¾“å…¥å‚æ•°Qylimitå’ŒQxlimitæ§åˆ¶
mypicture=mypicture + geom_hline(yintercept=Qylimit,linetype=4)
mypicture=mypicture + geom_vline(xintercept=c(-1*Qxlimit,Qxlimit),linetype=4)
#è®¾ç½®xï¼Œyä¸Šä¸‹é™
mypicture=mypicture + xlim(Lxlimit,Hxlimit)
mypicture=mypicture + ylim(Lylimit,Hylimit)
#è®¾ç½®ç‚¹çš„é¢œè‰²
mypicture=mypicture + scale_color_manual(values =c("Up" = "red", "Down" = "blue", "Normal" = "grey"))
#xï¼Œyè½´label
#expressionæ˜¯ä¸ºäº†è¾“å‡ºä¸Šä¸‹æ ‡
mypicture=mypicture + labs(x=expression(log[2](FC)),y=expression(-log[10](FDR)),color="significant")

mypicture   
dev.off()
</code></pre></div></div>

<h3 id="3dç”»å›¾">3dç”»å›¾</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>zypper install Mesa-libGL-devel

</code></pre></div></div>

<h2 id="rè¯­è¨€ç”¨äºç§‘å­¦è®¡ç®—">Rè¯­è¨€ç”¨äºç§‘å­¦è®¡ç®—</h2>
<h3 id="fft">FFT</h3>
<p>æ•°å­¦è¯¾æœ¬f(t)-c(w)<br />
ä»£ç t=t0+n*dt, f&amp;n-&gt;FFT-&gt;C(n)<br />
è‡ªå·±å°†nè½¬ä¸ºf(n),T(n)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/env Rscript</span><span class="w">
</span><span class="c1">##################################</span><span class="w">
</span><span class="c1"># Author : cndaqiang             #</span><span class="w">
</span><span class="c1"># Update : 2019-05-20            #</span><span class="w">
</span><span class="c1"># Build  : 2019-05-20            #</span><span class="w">
</span><span class="c1"># What   : FFTåˆ†æ               #</span><span class="w">
</span><span class="c1">##################################</span><span class="w">

</span><span class="n">fn1</span><span class="o">=</span><span class="m">5</span><span class="p">;</span><span class="n">fn2</span><span class="o">=</span><span class="m">10</span><span class="p">;</span><span class="n">fn3</span><span class="o">=</span><span class="m">100</span><span class="p">;</span><span class="n">fn4</span><span class="o">=</span><span class="m">233</span><span class="w"> </span><span class="c1">#é¢‘ç‡</span><span class="w">
</span><span class="n">dt</span><span class="o">=</span><span class="m">0.002</span><span class="w"> </span><span class="c1">#é‡‡æ ·é—´éš”</span><span class="w">
</span><span class="n">t</span><span class="o">=</span><span class="n">seq</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">1</span><span class="p">,</span><span class="n">dt</span><span class="p">)</span><span class="w"> </span><span class="c1">#æ ·æœ¬ç‚¹</span><span class="w">
</span><span class="n">n</span><span class="o">=</span><span class="nf">length</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="w">  </span><span class="c1">#é‡‡æ ·æ•°</span><span class="w">
</span><span class="n">y</span><span class="o">=</span><span class="nf">sin</span><span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">fn1</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="m">+3</span><span class="o">*</span><span class="nf">cos</span><span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">fn2</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="m">+4</span><span class="o">*</span><span class="nf">sin</span><span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">fn3</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="m">+5</span><span class="o">*</span><span class="nf">sin</span><span class="p">(</span><span class="m">2</span><span class="o">*</span><span class="nb">pi</span><span class="o">*</span><span class="n">fn4</span><span class="o">*</span><span class="n">t</span><span class="p">)</span><span class="w"> </span><span class="c1">#é‡‡æ ·å€¼</span><span class="w">
</span><span class="c1">#plot(x,y)</span><span class="w">
</span><span class="n">z</span><span class="o">=</span><span class="nf">abs</span><span class="p">(</span><span class="n">fft</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="w">  </span><span class="c1">#é¢‘è°± </span><span class="w">
</span><span class="n">f</span><span class="o">=</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="n">n</span><span class="m">-1</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="o">/</span><span class="n">dt</span><span class="w">  </span><span class="c1">#é¢‘ç‡</span><span class="w">
</span><span class="n">png</span><span class="p">(</span><span class="s2">"fft.png"</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="n">n</span><span class="o">/</span><span class="m">2</span><span class="p">],</span><span class="n">z</span><span class="p">[</span><span class="m">1</span><span class="o">:</span><span class="n">n</span><span class="o">/</span><span class="m">2</span><span class="p">],</span><span class="n">type</span><span class="o">=</span><span class="s2">"l"</span><span class="p">)</span><span class="w">
</span><span class="n">dev.off</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>
<p>ç»“æœå›¾<br />
å›¾ä¸­çš„å³°å€¼æ¯”ä¾‹ä¸å¯¹ï¼ŒåŠ å¯†Nç‚¹å‡å°‘dtåå°±å‡†äº†ï¼Œå°±ä¸è¡¥å›¾äº†<br />
ç”±äºè¾“å…¥æ˜¯å®æ•°,è¿™é‡Œ<code class="highlighter-rouge">f=(1:n-1)/n/dt  #é¢‘ç‡</code>åº”è¯¥å˜ä¸º<code class="highlighter-rouge">f=(1:n-1)/(n/2)/dt  #é¢‘ç‡</code>
<img src="/uploads/2019/05/fft.png" alt="" /></p>
:ET