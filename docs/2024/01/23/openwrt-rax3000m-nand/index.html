<!DOCTYPE html>
<html style="filter:grayscale(0%);">

  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    

    <title>OpenWRTç¼–è¯‘é…ç½®:ä»¥CMCC RAX3000Mä¸ºä¾‹</title>
    <meta name="description" content="">

    <link rel="shortcut icon" href="/favicon.jpg?" type="image/x-icon">
    <link rel="icon" href="/favicon.jpg?" type="image/x-icon">
    <!---2020-01-17 change font-awesome-->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <!--- 
    <link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"> 
    -->
    <link rel="stylesheet" href="/css/cndaqiang.css"> 
	<!---å›¾æ ‡cdn iconï¼Œæ¯æ¬¡åœ¨iconfontä¸­æ·»åŠ ä¸€ä¸ªå›¾æ ‡ï¼Œè¿™ä¸ªé“¾æ¥å°±è¦æ›´æ–°--->
   <link rel="stylesheet" href="https://at.alicdn.com/t/font_461356_ofctiykkk5.css">
	 <link rel="stylesheet" href="/css/main.css ">
   <link rel="canonical" href="http://0.0.0.0:4000/2024/01/23/openwrt-rax3000m-nand/">
   <link rel="alternate" type="application/rss+xml" title="cndaqiang" href="http://0.0.0.0:4000/feed.xml ">


    <script>
    // ç™¾åº¦ç»Ÿè®¡ä»£ç 
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?8ba332e6517ae0ba8a13339285d97bb3";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
    </script>



<!-- è°·æ­Œç»Ÿè®¡ --><!-- è·¨ç½‘åŸŸè·Ÿè¸ª -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?UA-109057291-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-109057291-1');
</script>



<script defer src="https://cloud.umami.is/script.js" data-website-id="27e72116-bcc0-4a4d-82a5-485b4105820e"></script>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
    tex2jax: { inlineMath: [["$","$"],["\\(","\\)"]] },
    "HTML-CSS": {
      linebreaks: { automatic: true, width: "container" }
    }
});
</script>
<script type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!---   è°·æ­Œcseç«™å†…æœç´¢-->
<!--- <script async src="https://cse.google.com/cse.js?cx=011772597085732398296:uzswyrqhpft"></script>
--->





</head>


  <body>

    <!-- å¤‡æ¡ˆä¸æ˜¾ç¤ºé•œåƒ-->


<header id="top">
    <div class="wrapper">
      
        <a href="/" class="brand">cndaqiang</a>
        <small>Web Linux DFT</small> 
        
        <button id="headerMenu" class="menu"><i class="fa fa-bars"></i></button>
        <nav id="headerNav">
            <ul>
                <li>
                    
                    <a href="/">
                    
                        <i class="fa fa-home"></i>Home
                    </a>
                </li>

                
                    
                    <li>
                        
                        <a href="/archive/">
                        
                            <i class="fa fa-archive"></i>ä¸“æ 
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/collection/">
                        
                            <i class="fa fa-bookmark"></i>å·¥å…·
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/category/">
                        
                            <i class="fa fa-th-list"></i>åˆ†ç±»
                        </a>
                    </li>
                    
                
                    
                    <li>
                        
                        <a href="/tag/">
                        
                            <i class="fa fa-tags"></i>æ ‡ç­¾
                        </a>
                    </li>
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
            </ul>
        </nav>
    </div>
</header>


        <!---æ–‡ç« é¡µé¢--->

<div class="page clearfix" post>
    <div class="left">
        <h1>OpenWRTç¼–è¯‘é…ç½®:ä»¥CMCC RAX3000Mä¸ºä¾‹</h1>
        <div class="label">

            <div class="label-card">
                <i class="fa fa-calendar"></i>2024-01-23
            </div>

            <div class="label-card">
                <i class="fa fa-user"></i>cndaqiang
                
            </div>

            <div class="label-card">
                
            </div>

            <div class="label-card">
            


<!-- <span class="point">â€¢</span> -->
<span class="categories">
  <i class="fa fa-th-list"></i>
  
    
        <a href="/category/#OpenWRT" title="Category: OpenWRT" rel="category">OpenWRT</a>
    
  

  <!-- <span class="point">â€¢</span> -->
</span>


            </div>

            <div class="label-card">
            
<!-- <span class="point">â€¢</span> -->
<span class="pageTag">
  <i class="fa fa-tags"></i>
  
    
        <!--a href="/tag/#OpenWRT" title="Tag: OpenWRT" rel="tag">OpenWRT</a-->
        <a href="/tag/#OpenWRT" title="Tag: OpenWRT" rel="tag">OpenWRT</a>
    
  

</span>


            </div>
            <!--- 2020-01-17 RSS-->
            <div class="label-card">
                <a href="/feed.xml" title="RSS"><i class="fa fa-rss-square" aria-hidden="true"></i>RSS</a>
            </div>

            <div class="label-card">
                <a href="https://github.com/cndaqiang/cndaqiang.github.io" title="RSS"><i class="fa fa-thumbs-o-up" aria-hidden="true"></i>Star</a>
            </div>
            
            <!--- github start , copy from https://github.com/mdo/github-buttons--->
            <!---
            <div>
                <iframe src="/html_script/github-btn.html?user=cndaqiang&repo=cndaqiang.github.io&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
            </div>
            --->

        </div>
        
        <hr>
        <article itemscope itemtype="http://schema.org/BlogPosting">
        <ul id="markdown-toc">
  <li><a href="#ç¼–è¯‘å›ºä»¶" id="markdown-toc-ç¼–è¯‘å›ºä»¶">ç¼–è¯‘å›ºä»¶</a>    <ul>
      <li><a href="#ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å›ºä»¶" id="markdown-toc-ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å›ºä»¶">ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å›ºä»¶</a></li>
      <li><a href="#ç¼–è¯‘ç¯å¢ƒ" id="markdown-toc-ç¼–è¯‘ç¯å¢ƒ">ç¼–è¯‘ç¯å¢ƒ</a></li>
      <li><a href="#æºç ä¸‹è½½" id="markdown-toc-æºç ä¸‹è½½">æºç ä¸‹è½½</a></li>
      <li><a href="#å¯é€‰æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶-istore" id="markdown-toc-å¯é€‰æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶-istore">[å¯é€‰]æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶: istore</a></li>
      <li><a href="#è®¾ç½®å›ºä»¶åŒ…å‚æ•°" id="markdown-toc-è®¾ç½®å›ºä»¶åŒ…å‚æ•°">è®¾ç½®å›ºä»¶åŒ…å‚æ•°</a>        <ul>
          <li><a href="#æˆ‘å¸¸ç¼–è¯‘çš„åŒ…" id="markdown-toc-æˆ‘å¸¸ç¼–è¯‘çš„åŒ…">æˆ‘å¸¸ç¼–è¯‘çš„åŒ…</a></li>
          <li><a href="#ç²¾ç®€åŒ…" id="markdown-toc-ç²¾ç®€åŒ…">ç²¾ç®€åŒ…</a></li>
          <li><a href="#ä¸å†…æ ¸ç›¸å…³çš„åŒ…" id="markdown-toc-ä¸å†…æ ¸ç›¸å…³çš„åŒ…">ä¸å†…æ ¸ç›¸å…³çš„åŒ…</a></li>
          <li><a href="#æŸ¥æ‰¾ç‰¹å®šåŒ…çš„ä½ç½®" id="markdown-toc-æŸ¥æ‰¾ç‰¹å®šåŒ…çš„ä½ç½®">æŸ¥æ‰¾ç‰¹å®šåŒ…çš„ä½ç½®</a></li>
        </ul>
      </li>
      <li><a href="#å¯é€‰æ¨èè®¾ç½®ç¼–è¯‘çš„å†…æ ¸ä¾èµ–ä¸é•œåƒä»“åº“ç›¸åŒ" id="markdown-toc-å¯é€‰æ¨èè®¾ç½®ç¼–è¯‘çš„å†…æ ¸ä¾èµ–ä¸é•œåƒä»“åº“ç›¸åŒ">[å¯é€‰ã€æ¨è]è®¾ç½®ç¼–è¯‘çš„å†…æ ¸ä¾èµ–ä¸é•œåƒä»“åº“ç›¸åŒ</a>        <ul>
          <li><a href="#æŸ¥çœ‹ä»“åº“å†…æ ¸çš„md5" id="markdown-toc-æŸ¥çœ‹ä»“åº“å†…æ ¸çš„md5">æŸ¥çœ‹ä»“åº“å†…æ ¸çš„md5</a></li>
          <li><a href="#ä¿®æ”¹md5" id="markdown-toc-ä¿®æ”¹md5">ä¿®æ”¹md5</a></li>
          <li><a href="#é‡æ–°ç¼–è¯‘" id="markdown-toc-é‡æ–°ç¼–è¯‘">é‡æ–°ç¼–è¯‘</a></li>
        </ul>
      </li>
      <li><a href="#å¼€å§‹ç¼–è¯‘" id="markdown-toc-å¼€å§‹ç¼–è¯‘">å¼€å§‹ç¼–è¯‘</a>        <ul>
          <li><a href="#å…¨éƒ¨ç¼–è¯‘" id="markdown-toc-å…¨éƒ¨ç¼–è¯‘">å…¨éƒ¨ç¼–è¯‘</a></li>
          <li><a href="#ç¼–è¯‘ç‰¹å®šåŒ…çš„æ–¹æ³•" id="markdown-toc-ç¼–è¯‘ç‰¹å®šåŒ…çš„æ–¹æ³•">ç¼–è¯‘ç‰¹å®šåŒ…çš„æ–¹æ³•</a></li>
          <li><a href="#ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬åŒ…çš„æ–¹æ³•" id="markdown-toc-ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬åŒ…çš„æ–¹æ³•">ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬åŒ…çš„æ–¹æ³•</a></li>
          <li><a href="#ä¸ç¼–è¯‘å›ºä»¶åªç¼–è¯‘ç‰¹å®šåŒ…" id="markdown-toc-ä¸ç¼–è¯‘å›ºä»¶åªç¼–è¯‘ç‰¹å®šåŒ…">ä¸ç¼–è¯‘å›ºä»¶ï¼Œåªç¼–è¯‘ç‰¹å®šåŒ…</a></li>
          <li><a href="#ç§‘å­¦ç¼–è¯‘çš„æ–¹æ³•" id="markdown-toc-ç§‘å­¦ç¼–è¯‘çš„æ–¹æ³•">ç§‘å­¦ç¼–è¯‘çš„æ–¹æ³•</a></li>
        </ul>
      </li>
      <li><a href="#ç¼–è¯‘ç»“æœ" id="markdown-toc-ç¼–è¯‘ç»“æœ">ç¼–è¯‘ç»“æœ</a>        <ul>
          <li><a href="#ç¼–è¯‘å›ºä»¶ç›®å½•" id="markdown-toc-ç¼–è¯‘å›ºä»¶ç›®å½•">ç¼–è¯‘å›ºä»¶ç›®å½•</a></li>
          <li><a href="#æ­å»ºopkgé•œåƒ" id="markdown-toc-æ­å»ºopkgé•œåƒ">æ­å»ºopkgé•œåƒ</a>            <ul>
              <li><a href="#httpç‰ˆ" id="markdown-toc-httpç‰ˆ">httpç‰ˆ</a></li>
              <li><a href="#æœ¬åœ°æ–‡ä»¶ç‰ˆ" id="markdown-toc-æœ¬åœ°æ–‡ä»¶ç‰ˆ">æœ¬åœ°æ–‡ä»¶ç‰ˆ</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#å®‰è£…ç³»ç»Ÿ" id="markdown-toc-å®‰è£…ç³»ç»Ÿ">å®‰è£…ç³»ç»Ÿ</a>    <ul>
      <li><a href="#ç»ˆç«¯å‡çº§" id="markdown-toc-ç»ˆç«¯å‡çº§">ç»ˆç«¯å‡çº§</a></li>
      <li><a href="#webå‡çº§" id="markdown-toc-webå‡çº§">webå‡çº§</a></li>
      <li><a href="#å…¨æ–°å®‰è£…åçš„æ“ä½œ" id="markdown-toc-å…¨æ–°å®‰è£…åçš„æ“ä½œ">å…¨æ–°å®‰è£…åçš„æ“ä½œ</a></li>
    </ul>
  </li>
  <li><a href="#éšæ‰‹è®°å½•" id="markdown-toc-éšæ‰‹è®°å½•">éšæ‰‹è®°å½•</a></li>
  <li><a href="#å…³äºdropbear" id="markdown-toc-å…³äºdropbear">å…³äºDropbear</a></li>
  <li><a href="#dnsé…ç½®" id="markdown-toc-dnsé…ç½®">dnsé…ç½®</a>    <ul>
      <li><a href="#dnsæœ€ç»ˆè®¾ç½®" id="markdown-toc-dnsæœ€ç»ˆè®¾ç½®">DNSæœ€ç»ˆè®¾ç½®</a></li>
    </ul>
  </li>
  <li><a href="#zerotier" id="markdown-toc-zerotier">zerotier</a></li>
  <li><a href="#nfs" id="markdown-toc-nfs">NFS</a>    <ul>
      <li><a href="#è·¯ç”±å™¨ä¸Šå±‚è®¿é—®" id="markdown-toc-è·¯ç”±å™¨ä¸Šå±‚è®¿é—®">è·¯ç”±å™¨ä¸Šå±‚è®¿é—®</a>        <ul>
          <li><a href="#rpcçš„111ç«¯å£" id="markdown-toc-rpcçš„111ç«¯å£">rpcçš„111ç«¯å£</a></li>
          <li><a href="#2049ç«¯å£32777-32780ç«¯å£" id="markdown-toc-2049ç«¯å£32777-32780ç«¯å£">2049ç«¯å£ã€32777-32780ç«¯å£</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#smb" id="markdown-toc-smb">smb</a></li>
  <li><a href="#git" id="markdown-toc-git">git</a></li>
  <li><a href="#clash" id="markdown-toc-clash">clash</a>    <ul>
      <li><a href="#clashå ç”¨å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆ" id="markdown-toc-clashå ç”¨å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆ">clashå ç”¨å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆ</a></li>
    </ul>
  </li>
  <li><a href="#ipv6" id="markdown-toc-ipv6">ipv6</a></li>
  <li><a href="#passwall" id="markdown-toc-passwall">PassWall</a>    <ul>
      <li><a href="#æš‚æ—¶ä¸æ”¯æŒhttpsç±»å‹çš„èŠ‚ç‚¹è®¢é˜…è·³è¿‡æ­¤èŠ‚ç‚¹" id="markdown-toc-æš‚æ—¶ä¸æ”¯æŒhttpsç±»å‹çš„èŠ‚ç‚¹è®¢é˜…è·³è¿‡æ­¤èŠ‚ç‚¹">æš‚æ—¶ä¸æ”¯æŒhttpsç±»å‹çš„èŠ‚ç‚¹è®¢é˜…ï¼Œè·³è¿‡æ­¤èŠ‚ç‚¹</a></li>
    </ul>
  </li>
  <li><a href="#istoreä½¿ç”¨è®°å½•" id="markdown-toc-istoreä½¿ç”¨è®°å½•">istoreä½¿ç”¨è®°å½•</a></li>
  <li><a href="#ttyd" id="markdown-toc-ttyd">ttyd</a></li>
  <li><a href="#æŒ‚è½½uç›˜" id="markdown-toc-æŒ‚è½½uç›˜">æŒ‚è½½Uç›˜</a></li>
  <li><a href="#æŠ¥é”™" id="markdown-toc-æŠ¥é”™">æŠ¥é”™</a>    <ul>
      <li><a href="#è„šæœ¬å­˜åœ¨æ— æ³•è¿è¡Œ" id="markdown-toc-è„šæœ¬å­˜åœ¨æ— æ³•è¿è¡Œ">è„šæœ¬å­˜åœ¨æ— æ³•è¿è¡Œ</a></li>
      <li><a href="#é‡å¯årootå¯†ç æ— æ³•ç™»å½•" id="markdown-toc-é‡å¯årootå¯†ç æ— æ³•ç™»å½•">é‡å¯årootå¯†ç æ— æ³•ç™»å½•</a></li>
      <li><a href="#è‡ªå·±æ­å»ºçš„ä»“åº“ç­¾åé”™è¯¯-åˆ é™¤ç­¾åæ–‡ä»¶åå†åŒæ­¥" id="markdown-toc-è‡ªå·±æ­å»ºçš„ä»“åº“ç­¾åé”™è¯¯-åˆ é™¤ç­¾åæ–‡ä»¶åå†åŒæ­¥">è‡ªå·±æ­å»ºçš„ä»“åº“ç­¾åé”™è¯¯: åˆ é™¤ç­¾åæ–‡ä»¶åå†åŒæ­¥</a></li>
      <li><a href="#qbittorentæ— æ³•å¯åŠ¨" id="markdown-toc-qbittorentæ— æ³•å¯åŠ¨">qbittorentæ— æ³•å¯åŠ¨</a></li>
      <li><a href="#qbittorentæç¤ºunauthorized" id="markdown-toc-qbittorentæç¤ºunauthorized">qbittorentæç¤º<code class="language-plaintext highlighter-rouge">Unauthorized</code></a></li>
    </ul>
  </li>
</ul>

<ul>
  <li><strong>æ„Ÿè°¢äº’è”ç½‘ã€GPT,æœ‰äº›æ•™ç¨‹å‚è€ƒäº†,ä½†æ˜¯æ²¡æœ‰åŠæ—¶æŠŠé“¾æ¥å¤åˆ¶åˆ°æœ¬æ–‡è¿›è¡Œè‡´è°¢,åœ¨æ­¤ç»Ÿä¸€è‡´è°¢</strong></li>
  <li><strong>åŒæ—¶å¼€å¯qBittotrentã€passWall, clash, zerotierç¡®å®å†…å­˜æ»¡äº†,å®¹æ˜“å¡, è²Œä¼¼ä¹°ä¸ªx86ä½œä¸ºç§‘å­¦ã€å­˜å‚¨èŠ‚ç‚¹æœ‰æ„ä¹‰</strong></li>
</ul>

<h2 id="ç¼–è¯‘å›ºä»¶">ç¼–è¯‘å›ºä»¶</h2>
<h3 id="ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å›ºä»¶">ä¸ºä»€ä¹ˆè¦ç¼–è¯‘å›ºä»¶</h3>
<ul>
  <li><strong>å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚, å®˜æ–¹çš„åŒ…å°±è¡Œ</strong></li>
  <li>å®˜æ–¹å›ºä»¶å­˜åœ¨é—®é¢˜æ—¶:</li>
  <li>
    <ul>
      <li>flashæ‰©å®¹</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>é¢„å®‰è£…åŒ…: ipv6, æ ¡å›­ç½‘è®¤è¯, luciç•Œé¢</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>kmodç­‰å†…æ ¸é©±åŠ¨çš„åŒ…,ä½¿ç”¨opkgå®‰è£…åæœ‰å¯èƒ½ä¸èƒ½ç”¨, ä¾‹å¦‚usbæ¥å£, uç›˜</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>passwall ç­‰appä¸åœ¨opkgçš„ä»“åº“é‡Œ, ä½†æ˜¯ç¼–è¯‘å›ºä»¶çš„æ—¶å€™å¯ä»¥æ‰“åŒ…è¿›æ¥</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>é»˜è®¤ç¼–è¯‘çš„è½¯ä»¶ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œä¾‹å¦‚<code class="language-plaintext highlighter-rouge">transmission-4.0.6</code>è¢«å¾ˆå¤šptç«™ç¦æ­¢è®¿é—®</li>
    </ul>
  </li>
</ul>

<h3 id="ç¼–è¯‘ç¯å¢ƒ">ç¼–è¯‘ç¯å¢ƒ</h3>
<ul>
  <li>è·¯ç”±è®¾å¤‡: CMCC RAX3000M</li>
  <li>ç¼–è¯‘ç³»ç»Ÿ: Ubuntu 22.04, Passwd:123456</li>
  <li>æ³¨1: Ubuntuç‰ˆæœ¬è¾ƒä½(20.04)ä¼šå’ŒOpenWRTå¼€å‘è€…çš„ç¯å¢ƒå‡ºç°å·®å¼‚,æ— æ³•ç¼–è¯‘æ–°ç‰ˆæœ¬.</li>
  <li>
    <p>æ³¨2: ç¼–è¯‘å›ºä»¶+å¸¸ç”¨åŒ…éœ€è¦ç©ºé—´<code class="language-plaintext highlighter-rouge">&gt;35G</code>, è™šæ‹Ÿæœºéœ€è¦ç»™è¶³å¤Ÿç©ºé—´</p>
  </li>
  <li>å¦‚æœä½¿ç”¨è€æ¿æœ¬çš„openwrtå¯èƒ½æ‰¾ä¸åˆ°æ”¯æŒçš„è®¾å¤‡,æ›´æ–°åˆ°è¾ƒæ–°çš„åˆ†æ”¯<code class="language-plaintext highlighter-rouge">git checkout v23.05.3</code></li>
  <li>ä¸åŒçš„å‘è¡Œç‰ˆopenwrt/immortalwrtæ”¯æŒçš„è½¯ä»¶/è®¾å¤‡/æ˜¾ç¤ºçš„å†…å®¹, <a href="https://github.com/immortalwrt/immortalwrt/discussions/1109#discussioncomment-8073987">ç®€å•çš„åŒºåˆ«@CrazyBoyFeng
</a></li>
</ul>

<h3 id="æºç ä¸‹è½½">æºç ä¸‹è½½</h3>
<ul>
  <li>ä¸ä»…æ˜¯<code class="language-plaintext highlighter-rouge">./scripts/feeds</code>éœ€è¦ç§‘å­¦ä¸Šç½‘ç¯å¢ƒ</li>
  <li>ç¼–è¯‘è¿‡ç¨‹ä¸­æœ‰äº›åŒ…å¦‚<code class="language-plaintext highlighter-rouge">frp</code>ä¹Ÿä¼šè”ç½‘ä¸‹è½½,ä½¿ç”¨å…¨å±€ä»£ç†æˆ–è€…<code class="language-plaintext highlighter-rouge">proxychains</code>æ–¹æ³•</li>
  <li>å‚è€ƒ<a href="https://github.com/immortalwrt/immortalwrt/tree/openwrt-23.05">immortalwrt</a></li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>bash <span class="nt">-c</span> <span class="s1">'bash &lt;(curl -s https://build-scripts.immortalwrt.eu.org/init_build_environment.sh)'</span>
<span class="c">#è¿™é‡Œé‡‡ç”¨immortalwrtï¼Œæ²¡ä½¿ç”¨openwrtï¼Œæ˜¯å› ä¸ºimmortalwrtæ”¯æŒæ›´å¤šçš„è½¯ä»¶</span>
git clone <span class="nt">-b</span> openwrt-23.05 <span class="nt">--single-branch</span> <span class="nt">--filter</span><span class="o">=</span>blob:none https://github.com/immortalwrt/immortalwrt
<span class="nb">cd </span>immortalwrt 
<span class="c">#åˆ‡æ¢åˆ°æœ€æ–°çš„åˆ†æ”¯,ä¸è¦ä½¿ç”¨é»˜è®¤çš„SNAPSHOTåˆ†æ”¯ï¼Œ</span>
git checkout v23.05.0
<span class="c">#</span>
<span class="c">#æ›´æ–°feed</span>
./scripts/feeds update <span class="nt">-a</span>
./scripts/feeds <span class="nb">install</span> <span class="nt">-a</span>
</code></pre></div></div>

<h3 id="å¯é€‰æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶-istore">[å¯é€‰]æ·»åŠ ç¬¬ä¸‰æ–¹æ’ä»¶: istore</h3>
<ul>
  <li>é¡¹ç›®åœ°å€<a href="https://github.com/linkease/istore">istore</a></li>
  <li>å¯ä»¥ç›´æ¥å‘½ä»¤å®‰è£…ï¼Œä½†æ˜¯å‡ºé”™äº†ï¼Œé›†æˆåœ¨å›ºä»¶é‡Œå¯ä»¥ä½¿ç”¨</li>
  <li>æ·»åŠ istoreåï¼Œå¯èƒ½ä¼šæ”¹åŠ¨immortalwrtçš„æºä¸ºopenwrt,æ³¨æ„ä¿®æ”¹å›æ¥</li>
  <li>æ›´å¤šçš„é—®é¢˜ï¼Œæ”¾åˆ°æœ¬æ–‡çš„åé¢</li>
  <li>128Mçš„å°è®¾å¤‡å°±åˆ«æ·»åŠ äº†</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo &gt;&gt; feeds.conf.default
echo 'src-git istore https://github.com/linkease/istore;main' &gt;&gt; feeds.conf.default
./scripts/feeds update istore
./scripts/feeds install -d y -p istore luci-app-store
</code></pre></div></div>

<h3 id="è®¾ç½®å›ºä»¶åŒ…å‚æ•°">è®¾ç½®å›ºä»¶åŒ…å‚æ•°</h3>
<ul>
  <li><strong>æ³¨:æœ‰äº›åŒ…æ˜¯ç‰¹å®šå‘è¡Œç‰ˆæ‰æœ‰çš„,ä¾‹å¦‚immortalwrtå’Œopenwrtåœ¨è¿™é‡Œçš„ç»“æœå°±ä¸åŒ</strong>
â€“ ä¸åŒå‘è¡Œç‰ˆé»˜è®¤å¼€å¯åŒ…ä¹Ÿæ˜¯ä¸åŒï¼Œä¾‹å¦‚immortalwrtå¯¹cmcc rax3000é»˜è®¤å¼€å¯äº†usbçš„æ”¯æŒï¼Œè€Œopenwrté»˜è®¤ä¸å¼€å¯</li>
  <li><strong><code class="language-plaintext highlighter-rouge">*</code>ä»£è¡¨ç¼–å…¥å›ºä»¶,<code class="language-plaintext highlighter-rouge">M</code>è¡¨ç¤ºç¼–è¯‘æˆæ¨¡å—æˆ–è€…IPKåŒ…,<code class="language-plaintext highlighter-rouge">ç©º</code>ä¸ç¼–è¯‘</strong></li>
  <li><strong>æ³¨:ç¼–è¯‘çš„åŒ…å¤šäº†,<code class="language-plaintext highlighter-rouge">/rom</code>å ç”¨çš„ç©ºé—´å°±å¤§, ç›¸åº”çš„<code class="language-plaintext highlighter-rouge">/overlay</code>(<code class="language-plaintext highlighter-rouge">/dev/ubi</code>)ç©ºé—´å°±å°äº†</strong>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make menuconfig
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="æˆ‘å¸¸ç¼–è¯‘çš„åŒ…">æˆ‘å¸¸ç¼–è¯‘çš„åŒ…</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Base system
â”œâ”€â”€ Customize busybox options
Administration
â”œâ”€â”€ htop
Development
â”œâ”€â”€ diffutils
Extra packages
â”œâ”€â”€ ipv6helper
Kernel modules
â”‚Â Â  â””â”€â”€ Filesystems
â”‚Â Â      â”œâ”€â”€ kmod-fs-ext4 #æŒ‚è½½ext4æ ¼å¼çš„uç›˜æ—¶ç”¨
â”‚Â Â  â””â”€â”€USB Support
â”‚Â Â      â”œâ”€â”€ kmod-usb-storage # uç›˜
LuCi
â”‚Â Â  â””â”€â”€ Applications
â”‚Â Â      â”œâ”€â”€ luci-app-fileassistant #åœ¨luciç•Œé¢æµè§ˆç¼–è¾‘ä¸‹è½½æ–‡ä»¶
â”‚Â Â      â”œâ”€â”€ luci-app-samba4  #smbå…±äº«, ksmbdèƒ½ç”¨ï¼Œä½†æ˜¯vivoçš„æ‰‹æœºç®¡ç†å™¨æ— æ³•æ­£å¸¸è¿æ¥
â”‚Â Â      â”œâ”€â”€ luci-app-passwall
â”‚Â Â      â”œâ”€â”€ luci-app-qbittorrent
â”‚Â Â      â”œâ”€â”€ luci-app-store #æ·»åŠ storeçš„æºåæ‰æœ‰
â”‚Â Â      â”œâ”€â”€ luci-app-ttyd #luciç•Œé¢ç»ˆç«¯
â”‚Â Â      â”œâ”€â”€ luci-app-zerotier
â”‚Â Â  â””â”€â”€ Themes
â”‚Â Â      â”œâ”€â”€ luci-theme-argon
Network
â”‚Â Â  â””â”€â”€ File Transfer
â”‚Â Â      â”œâ”€â”€ rsync    #è¿™æ˜¯æˆ‘å‘è·¯ç”±å™¨æ¨é€æ–‡ä»¶ä½¿ç”¨çš„
â”‚Â Â      â”œâ”€â”€ rsyncd
â”‚Â Â      â”œâ”€â”€ wget-ssl #ä¸è¦å¼€wget-nossl,ä¸ç„¶é»˜è®¤ç”¨wgetä¸‹è½½å®¹æ˜“å‡ºé”™
â”‚Â Â  â””â”€â”€ Filesystem
â”‚Â Â      â”œâ”€â”€ nfs-kernel-server 
â”‚Â Â  â””â”€â”€ Firewall
â”‚Â Â      â”œâ”€â”€ ip6tables-extra
â”‚Â Â      â”œâ”€â”€ ip6tables-mod-nat
â”‚Â Â      â”œâ”€â”€ ip6tables-nft #æ—§ç‰ˆåä¸ºip6table
â”‚Â Â  â””â”€â”€ Version Control Systems
â”‚Â Â      â”œâ”€â”€ git #åŒæ­¥ä»£ç ç”¨
â”‚Â Â  â””â”€â”€ SSH
â”‚Â Â      â”œâ”€â”€ openssh-client (ä¸è¦ç¼–è¯‘,Dropbearæœ‰sshçš„åŠŸèƒ½,å®‰è£…åè¿˜è¦é…ç½®å“ªä¸ªsshå®¢æˆ·ç«¯è´Ÿè´£git)
â”‚Â Â      â”œâ”€â”€ openssh-server (ä¸è¦ç¼–è¯‘,Dropbearæœ‰sshçš„åŠŸèƒ½,ä¸¤ä¸ªä¼šå†²çª,ç¼–è¯‘åå¼€æœºä¹Ÿåªèƒ½2é€‰1 )
â”‚Â Â      â”œâ”€â”€ openssh-sftp-server (SFTPæœåŠ¡,è¦ç¼–è¯‘)
â”‚Â Â  â””â”€â”€ Web Servers/Proxies
â”‚Â Â      â”œâ”€â”€ clash #é»˜è®¤çš„ä»“åº“åœ°å€GO PKG:=github.com/Dreamacro/clashå·²ç»å¤±æ•ˆäº†ï¼Œè¿™ä¸ªæ— æ³•ç¼–è¯‘é€šè¿‡
Utilities
â”‚Â Â  â””â”€â”€ Disc
â”‚Â Â      â”œâ”€â”€ parted
â”‚Â Â  â””â”€â”€ Editors
â”‚Â Â      â”œâ”€â”€ vim-full
â”‚Â Â  â””â”€â”€ Filesystem
â”‚Â Â      â”œâ”€â”€ e2fsprogs #æ ¼å¼åŒ–Uç›˜ä½ext4, mkfs.ext4
â”‚Â Â  â””â”€â”€ shadow-utils #åˆ›å»ºæ–°ç”¨æˆ·ç”¨
â”‚Â Â  â””â”€â”€ lsof #æŸ¥çœ‹ç«¯å£,ç”¨äºæŸ¥çœ‹å’Œclashç«¯å£å†²çªçš„ç¨‹åº
</code></pre></div></div>

<h4 id="ç²¾ç®€åŒ…">ç²¾ç®€åŒ…</h4>
<p>é…ç½®å¥½å†…æ ¸çš„md5åï¼Œåªå®‰è£…å‡ ä¸ªåŸºç¡€çš„åŒ…ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨çš„</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Extra packages
â”œâ”€â”€ ipv6helper
luci
â”‚Â Â  â””â”€â”€ Applications
â”‚Â Â      â”œâ”€â”€ luci-app-fileassistant #åœ¨luciç•Œé¢æµè§ˆç¼–è¾‘ä¸‹è½½æ–‡ä»¶
â”‚Â Â      â”œâ”€â”€ luci-app-qbittorrent
â”‚Â Â      â”œâ”€â”€ luci-app-store #æ·»åŠ storeçš„æºåæ‰æœ‰
â”‚Â Â      â”œâ”€â”€ luci-app-ttyd #luciç•Œé¢ç»ˆç«¯
â”‚Â Â      â”œâ”€â”€ luci-app-zerotier
â”‚Â Â  â””â”€â”€ Themes
â”‚Â Â      â”œâ”€â”€ luci-theme-argon
Network
â”‚Â Â  â””â”€â”€ File Transfer
â”‚Â Â      â”œâ”€â”€ rsync    #è¿™æ˜¯æˆ‘å‘è·¯ç”±å™¨æ¨é€æ–‡ä»¶ä½¿ç”¨çš„
â”‚Â Â      â”œâ”€â”€ rsyncd
â”‚Â Â      â”œâ”€â”€ wget-ssl #ä¸è¦å¼€wget-nossl,ä¸ç„¶é»˜è®¤ç”¨wgetä¸‹è½½å®¹æ˜“å‡ºé”™
â”‚Â Â  â””â”€â”€ Filesystem
â”‚Â Â      â”œâ”€â”€ nfs-kernel-server 
â”‚Â Â  â””â”€â”€ Firewall
â”‚Â Â      â”œâ”€â”€ ip6tables-extra
â”‚Â Â      â”œâ”€â”€ ip6tables-mod-nat
â”‚Â Â      â”œâ”€â”€ ip6tables-nft #æ—§ç‰ˆåä¸ºip6table
â”‚Â Â  â””â”€â”€ SSH
â”‚Â Â      â”œâ”€â”€ openssh-sftp-server (SFTPæœåŠ¡,è¦ç¼–è¯‘)
</code></pre></div></div>

<p>å…¶ä»–åŒ…opkgå³å¯</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opkg install htop
</code></pre></div></div>

<h4 id="ä¸å†…æ ¸ç›¸å…³çš„åŒ…">ä¸å†…æ ¸ç›¸å…³çš„åŒ…</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Kernel modules
â”‚Â Â  â””â”€â”€ Filesystems
â”‚Â Â      â”œâ”€â”€ kmod-fs-ext4 #æŒ‚è½½ext4æ ¼å¼çš„uç›˜æ—¶ç”¨
â”‚Â Â  â””â”€â”€USB Support
â”‚Â Â      â”œâ”€â”€ kmod-usb-storage # uç›˜
â”‚Â Â      â”œâ”€â”€ kmod-usb2 #usb 2.0
â”‚Â Â      â”œâ”€â”€ # kmod-usb3 #usb 3.0
â”‚Â Â      â”œâ”€â”€ # kmod-usb-storage-extras #è¿™äº›ä¸å®‰è£…ä¹Ÿå¯ä»¥è¯†åˆ«Uç›˜
â”‚Â Â      â”œâ”€â”€ # kmod-scsi-core
â”‚Â Â      â”œâ”€â”€ # kmod-scsi-generic
â”‚Â Â      â”œâ”€â”€ # kmod-usb-core  
â”‚Â Â      â”œâ”€â”€ # kmod-usb-uhci 
â”‚Â Â      â”œâ”€â”€ # kmod-usb-ohci
Utilities
â”‚Â Â  â””â”€â”€ Filesystem
â”‚Â Â      â”œâ”€â”€ e2fsprogs #æ ¼å¼åŒ–Uç›˜ä½ext4, mkfs.ext4
</code></pre></div></div>

<h4 id="æŸ¥æ‰¾ç‰¹å®šåŒ…çš„ä½ç½®">æŸ¥æ‰¾ç‰¹å®šåŒ…çš„ä½ç½®</h4>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">make menuconfig</code>å<code class="language-plaintext highlighter-rouge">/</code>æœç´¢</strong></li>
  <li><strong>æ¨è: ç½‘é¡µæŸ¥æ‰¾</strong>, æœç´¢<code class="language-plaintext highlighter-rouge">openwrt package package_name</code></li>
  <li>
    <ul>
      <li>å¦‚é€šè¿‡<code class="language-plaintext highlighter-rouge">https://openwrt.org/packages/pkgdata/ip6tables-extra</code>é¡µé¢ä¸ºä¾‹,å¯ä»¥çœ‹åˆ°:<code class="language-plaintext highlighter-rouge">Categories:network---firewall</code></li>
    </ul>
  </li>
</ul>

<h3 id="å¯é€‰æ¨èè®¾ç½®ç¼–è¯‘çš„å†…æ ¸ä¾èµ–ä¸é•œåƒä»“åº“ç›¸åŒ">[å¯é€‰ã€æ¨è]è®¾ç½®ç¼–è¯‘çš„å†…æ ¸ä¾èµ–ä¸é•œåƒä»“åº“ç›¸åŒ</h3>
<ul>
  <li><strong>ä¸»è¦è§£å†³: opkgå®‰è£…æ¶‰åŠå†…æ ¸çš„è½¯ä»¶æ—¶æŠ¥é”™<code class="language-plaintext highlighter-rouge">cannot find dependency kernel (= å†…æ ¸ç‰ˆæœ¬-1-ä»“åº“ç¼–è¯‘çš„md5)</code></strong></li>
  <li>
    <ul>
      <li>åŸå› 1. æœ¬åœ°ç¼–è¯‘çš„å†…æ ¸md5ä¸opkgä»“åº“çš„ä¸åŒ</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>åŸå› 2. æœ¬åœ°ç¼–è¯‘ç¯å¢ƒå˜åŒ–ï¼Œç¼–è¯‘çš„ç¦»çº¿å†…æ ¸ipkæ–‡ä»¶ä¸æ»¡è¶³ä¾èµ–å…³ç³»</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>åŸå› 3. ä¸åŒå‘è¡Œç‰ˆ(openwrt/immortalwrt/â€¦)çš„å†…æ ¸ç‰ˆæœ¬å’Œmd5ä¸åŒï¼Œimmortalwrtå›ºä»¶ä½¿ç”¨openwrtçš„ä»“åº“æ—¶ï¼Œä¹Ÿæ— æ³•æ»¡è¶³å†…æ ¸çš„ä¾èµ–å…³ç³»</li>
    </ul>
  </li>
  <li><strong>è§£å†³æ–¹æ¡ˆ: å¼ºåˆ¶æœ¬åœ°å†…æ ¸çš„md5ä¸opkgä»“åº“ç›¸åŒ</strong>, å‚è€ƒ<a href="https://blog.csdn.net/bjr2016/article/details/107776801">Openwrt è‡ªç¼–è¯‘åå®‰è£…å®˜æ–¹ipkæ—¶äº§ç”Ÿkernel MD5ä¸å…¼å®¹çš„é—®é¢˜å¤„ç†@bjr2016</a></li>
  <li><strong>æ³¨:è™½ç„¶å¤§å¤šæ•°çš„kmodåŒ…éƒ½å¯ä»¥å®‰è£…äº†ï¼Œä½†æ˜¯å¦‚æœè¿˜æ˜¯ä¸èƒ½æ­£å¸¸å·¥ä½œï¼ˆåˆ©äºusbæ¥å£ï¼‰ï¼Œè¿˜æ˜¯é›†æˆåˆ°å›ºä»¶é‡Œæ›´ç¨³</strong></li>
</ul>

<h4 id="æŸ¥çœ‹ä»“åº“å†…æ ¸çš„md5">æŸ¥çœ‹ä»“åº“å†…æ ¸çš„md5</h4>
<p>å¦‚<code class="language-plaintext highlighter-rouge">https://downloads.immortalwrt.org/releases/23.05.0/targets/mediatek/filogic/kmods/</code>(<strong>æ³¨æ„ä¸åŒçš„è·¯ç”±å™¨/å¹³å°æ­¤ç½‘å€æœ‰å·®å¼‚, cmcc rax3000mæ˜¯<code class="language-plaintext highlighter-rouge">mediatek</code>å¹³å°</strong>)<br />
çœ‹åˆ°<code class="language-plaintext highlighter-rouge">5.15.137-1-904c4c7394bedf0cdae64cbc242922fd</code></p>

<h4 id="ä¿®æ”¹md5">ä¿®æ”¹md5</h4>
<p>è¿™æ ·æ›¿æ¢</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi include/kernel-defaults.mk
</code></pre></div></div>
<p>æ³¨æ„æ˜¯<code class="language-plaintext highlighter-rouge">Tab</code>é”®+<code class="language-plaintext highlighter-rouge">echo ...</code></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        #grep '=[ym]' $(LINUX_DIR)/.config.set | LC_ALL=C sort | $(MKHASH) md5 &gt; $(LINUX_DIR)/.vermagic
        echo 904c4c7394bedf0cdae64cbc242922fd &gt; $(LINUX_DIR)/.vermagic
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi package/kernel/linux/Makefile
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ifeq ($(DUMP),)
  #STAMP_BUILT:=$(STAMP_BUILT)_$(shell $(SCRIPT_DIR)/kconfig.pl $(LINUX_DIR)/.config | $(MKHASH) md5)
  STAMP_BUILT:=$(STAMP_BUILT)_904c4c7394bedf0cdae64cbc242922fd
  -include $(LINUX_DIR)/.config
endif
</code></pre></div></div>

<h4 id="é‡æ–°ç¼–è¯‘">é‡æ–°ç¼–è¯‘</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make V=s
#æŠ¥é”™ä¾èµ–åˆ™åˆ é™¤
rm bin/targets/mediatek/filogic/packages/*
make V=s
</code></pre></div></div>

<p>æ›´æ–°ä¹‹å</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cndaqiang@vmnode:/data/openwrt/cmcc/immortalwrt$ ls bin/targets/mediatek/filogic/packages/ | grep kernel
kernel_5.15.137-1-904c4c7394bedf0cdae64cbc242922fd_aarch64_cortex-a53.ipk
</code></pre></div></div>

<h3 id="å¼€å§‹ç¼–è¯‘">å¼€å§‹ç¼–è¯‘</h3>
<h4 id="å…¨éƒ¨ç¼–è¯‘">å…¨éƒ¨ç¼–è¯‘</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make V=s #è®¾ç½®V=s, å¯ä»¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œæ£€æŸ¥æŠ¥é”™
</code></pre></div></div>

<h4 id="ç¼–è¯‘ç‰¹å®šåŒ…çš„æ–¹æ³•">ç¼–è¯‘ç‰¹å®šåŒ…çš„æ–¹æ³•</h4>
<p>ä»¥<code class="language-plaintext highlighter-rouge">subconverter</code>ä¸ºä¾‹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cndaqiang@cndaqiang:~/immortalwrt$ ls package/feeds/packages/subconverter/
files  Makefile  patches
cndaqiang@cndaqiang:~/immortalwrt$ make package/feeds/packages/subconverter/compile V=s
make[2]: Entering directory '/home/cndaqiang/immortalwrt/scripts/config'
make[2]: 'conf' is up to date.
</code></pre></div></div>

<h4 id="ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬åŒ…çš„æ–¹æ³•">ç¼–è¯‘ç‰¹å®šç‰ˆæœ¬åŒ…çš„æ–¹æ³•</h4>
<p>ä»¥transmissionä¸ºä¾‹ï¼ŒæŸ¥çœ‹<code class="language-plaintext highlighter-rouge">https://github.com/immortalwrt/packages/tree/master/net/transmission</code>æ›´æ–°è®°å½•ï¼Œ
æ›¿æ¢<code class="language-plaintext highlighter-rouge">package/feeds/packages/transmission/</code>ä¸­çš„å†…å®¹(ä¸»è¦å°±æ˜¯Makefileæ–‡ä»¶é‡Œé¢å®šä¹‰äº†è½¯ä»¶ç‰ˆæœ¬)
ç¼–è¯‘</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make  package/feeds/packages/transmission/compile V=s
</code></pre></div></div>

<p>ä»¥qBitä¸ºä¾‹</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /data/openwrt/immortalwrt/feeds/packages/net/qBittorrent-Enhanced-Edition
rm -rf *
#æŠŠæ—§ç‰ˆçš„å†…å®¹https://github.com/immortalwrt/packages/tree/f5c7d4105d60ea36b4ea218adc6bf76010654fdb/net/qBittorrent-Enhanced-Editionï¼Œä¸‹è½½åˆ°æœ¬æ–‡ä»¶å¤¹
make package/feeds/packages/qBittorrent-Enhanced-Edition/compile V=s
</code></pre></div></div>

<h4 id="ä¸ç¼–è¯‘å›ºä»¶åªç¼–è¯‘ç‰¹å®šåŒ…">ä¸ç¼–è¯‘å›ºä»¶ï¼Œåªç¼–è¯‘ç‰¹å®šåŒ…</h4>
<p>å…ˆç¼–è¯‘å·¥å…·é“¾</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make tools/compile V=s
make toolchain/compile V=s
</code></pre></div></div>
<p>æœ‰çš„è¿˜ä¾èµ–å†…æ ¸</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make target/linux/compile  V=s
</code></pre></div></div>
<p>å†è¿›è¡Œç¼–è¯‘å°±å¥½äº†</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(base) cndaqiang@vmnode:/data/openwrt/immortalwrt$ make  package/feeds/packages/transmission/compile V=s -j6
(base) cndaqiang@vmnode:/data/openwrt/immortalwrt$ ls bin/packages/mipsel_24kc/packages/
libcurl4_8.7.1-r1_mipsel_24kc.ipk             libnatpmp1_20150609-3_mipsel_24kc.ipk         transmission-daemon_4.0.5-1_mipsel_24kc.ipk
libdeflate_1.18-1_mipsel_24kc.ipk             libnghttp2-14_1.57.0-1_mipsel_24kc.ipk        transmission-remote_4.0.5-1_mipsel_24kc.ipk
libdht_2022-04-27-11123089-1_mipsel_24kc.ipk  libpsl5_0.21.2-1_mipsel_24kc.ipk              transmission-web_4.0.5-1_all.ipk
libidn2_2.3.4-1_mipsel_24kc.ipk               libutp_2023-02-14-c95738b1-1_mipsel_24kc.ipk  
libminiupnpc_2.2.3-1_mipsel_24kc.ipk          transmission-cli_4.0.5-1_mipsel_24kc.ipk 
</code></pre></div></div>

<h4 id="ç§‘å­¦ç¼–è¯‘çš„æ–¹æ³•">ç§‘å­¦ç¼–è¯‘çš„æ–¹æ³•</h4>
<ul>
  <li>a. åœ¨ubuntuçš„ç³»ç»Ÿé‡Œè®¾ç½®äº†socksä»£ç†</li>
  <li>b. proxychainsç¼–è¯‘
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt install proxychains
vi /etc/proxychains.conf
#æ›¿æ¢ä»£ç†ä¸º socks5 192.168.192.204 10092
proxychains make -j1 V=s
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="ç¼–è¯‘ç»“æœ">ç¼–è¯‘ç»“æœ</h3>
<h4 id="ç¼–è¯‘å›ºä»¶ç›®å½•">ç¼–è¯‘å›ºä»¶ç›®å½•</h4>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cndaqiang@cndaqiang:~/immortalwrt$ tree bin
bin
â”œâ”€â”€ packages
â”‚Â Â  â””â”€â”€ aarch64_cortex-a53
â”‚Â Â      â”œâ”€â”€ è¿™é‡Œéƒ½æ˜¯ä¸€äº›å¸¸è§„çš„åŒ…,åæœŸç”¨opkgä»å…¬å…±ä»“åº“ä¹Ÿå¯ä»¥å®‰è£…
â”‚Â Â      â”œâ”€â”€ base
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ XXXXXX.ipk
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ XXXXXX_aarch64_cortex-a53.ipk.ipk
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.json
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Packagesæ–‡ä»¶æ˜¯ç”¨æ¥å»ºç«‹ipkçš„ä»“åº“ç”¨,æœ‰è¿™ä¸ªæ–‡ä»¶å°±å¯ä»¥ä½œä¸ºå›ºä»¶ä»“åº“ä½¿ç”¨
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Packages
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Packages.gz
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Packages.manifest
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ Packages.sig
â”‚Â Â      â”œâ”€â”€ luci
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ åŒä¸Š
â”‚Â Â      â”œâ”€â”€ packages
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ åŒä¸Š
â”‚Â Â      â”œâ”€â”€ routing
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ åŒä¸Š
â”‚Â Â      â””â”€â”€ telephony
â”‚Â Â          â””â”€â”€ åŒä¸Š
â””â”€â”€ targets
    â””â”€â”€ mediatek
        â””â”€â”€ filogic
            â”œâ”€â”€ config.buildinfo
            â”œâ”€â”€ feeds.buildinfo
            â”œâ”€â”€ è¿™é‡Œæ˜¯æ‰“åŒ…çš„å›ºä»¶
            â”œâ”€â”€ immortalwrt-mediatek-filogic-cmcc_rax3000m-nand-ubootmod-initramfs-kernel.bin
            â”œâ”€â”€ immortalwrt-mediatek-filogic-cmcc_rax3000m-nand-ubootmod.manifest
            â”œâ”€â”€ immortalwrt-mediatek-filogic-cmcc_rax3000m-nand-ubootmod-squashfs-factory.bin
            â”œâ”€â”€ factory.bin U-Bootç›´æ¥ä¸Šä¼ è¿™ä¸€ä¸ª
            â”œâ”€â”€ immortalwrt-mediatek-filogic-cmcc_rax3000m-nand-ubootmod-squashfs-sysupgrade.bin 
            â”œâ”€â”€ sysupgrade.binOpenWRTåå°ä¸Šä¼ è¿™ä¸ªæ›´æ–°ï¼Œä¸åŒçš„OpenWRTç³»ç»Ÿä¼šæç¤ºè­¦å‘Š,æˆ‘åœ¨æ¢å›ºä»¶è­¦å‘Šæ—¶è¿˜æ˜¯é‡‡ç”¨U-Bootä¸Šä¼ factoryç‰ˆæœ¬,ä»…åœ¨æ›´æ–°è‡ªå·±å›ºä»¶æ—¶é‡‡ç”¨sysupgrade.bin
            â”œâ”€â”€ æœ‰æ—¶å€™åˆ·çš„factory.binæœ‰å„ç§å¼‚å¸¸é—®é¢˜,å†æ›´æ–°ä¸€ä¸ªsysupgrade.bin,å¹¶ä¸ä¿å­˜é…ç½®,å¾ˆå¤šé—®é¢˜å°±æ¶ˆå¤±äº†
            â”œâ”€â”€ packages
            â”‚Â Â  â”œâ”€â”€ ä¸€äº›é¢å¤–çš„åŒ…,å¦‚kmod,å’Œå†…æ ¸md5æœ‰å…³,åæœŸå¦‚æœå†…æ ¸ç‰ˆæœ¬ä¸ä¸€æ ·ï¼Œéœ€è¦é‡æ–°æ‰“åŒ…æˆ–è€…ä»è¿™é‡Œç¼–è¯‘
            â”‚Â Â  â”œâ”€â”€ åŒä¸Šbase
            â”œâ”€â”€ profiles.json
            â”œâ”€â”€ sha256sums
            â””â”€â”€ version.buildinfo
</code></pre></div></div>

<h4 id="æ­å»ºopkgé•œåƒ">æ­å»ºopkgé•œåƒ</h4>
<ul>
  <li>å¯ä»¥ä½¿ç”¨å›½å†…çš„é•œåƒ<code class="language-plaintext highlighter-rouge">https://mirrors.cernet.edu.cn/immortalwrt</code></li>
  <li>è¿™é‡Œæä¾›ä¸¤ç§è‡ªå»ºé•œåƒçš„æ–¹æ³•</li>
</ul>

<h5 id="httpç‰ˆ">httpç‰ˆ</h5>
<ul>
  <li>æŠŠç¼–è¯‘ç›®å½•<code class="language-plaintext highlighter-rouge">/immortalwrt/bin/</code>ä¸­çš„æ–‡ä»¶å¤åˆ¶åˆ°opçš„<code class="language-plaintext highlighter-rouge">www</code>ç›®å½•å³å¯</li>
  <li>å±€åŸŸç½‘é•œåƒ<code class="language-plaintext highlighter-rouge">rsync -avu ./bin/ /data/blog/blog.cndaqiang/localshare/</code></li>
</ul>

<h5 id="æœ¬åœ°æ–‡ä»¶ç‰ˆ">æœ¬åœ°æ–‡ä»¶ç‰ˆ</h5>
<p>#ç¼–è¯‘æœåŠ¡å™¨æ¨é€ä»“åº“åˆ°è·¯ç”±å™¨</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rsync -avu /home/cndaqiang/immortalwrt/bin/ root@192.168.12.1:/home/NFS/immortalwrt-23.05/
#è·¯ç”±å™¨éœ€è¦opkg install rsync
</code></pre></div></div>
<p>ä¿®æ”¹ä»“åº“é…ç½®</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mv /etc/opkg/distfeeds.conf /etc/opkg/distfeeds.conf.bak
echo "
src/gz cndaqianglocal_base       file:///home/NFS/immortalwrt-23.05/packages/aarch64_cortex-a53/base
src/gz cndaqianglocal_luci       file:///home/NFS/immortalwrt-23.05/packages/aarch64_cortex-a53/luci
src/gz cndaqianglocal_packages   file:///home/NFS/immortalwrt-23.05/packages/aarch64_cortex-a53/packages
src/gz cndaqianglocal_routing    file:///home/NFS/immortalwrt-23.05/packages/aarch64_cortex-a53/routing
src/gz cndaqianglocal_telephony  file:///home/NFS/immortalwrt-23.05/packages/aarch64_cortex-a53/telephony
src/gz cndaqianglocal_targets    file:///home/NFS/immortalwrt-23.05/targets/mediatek/filogic/packages
" &gt; /etc/opkg/distfeeds.conf
</code></pre></div></div>

<h2 id="å®‰è£…ç³»ç»Ÿ">å®‰è£…ç³»ç»Ÿ</h2>
<h3 id="ç»ˆç«¯å‡çº§">ç»ˆç«¯å‡çº§</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#é»˜è®¤ä¿å­˜äº†configçš„
root@OpenWrt:/tmp# sysupgrade immortalwrt-23.05.0-ath79-nand-netgear_wndr3700-v4-squashfs-sysupgrade.bin
</code></pre></div></div>

<h3 id="webå‡çº§">webå‡çº§</h3>
<ul>
  <li>ä¸åŒå‘å¸ƒç‰ˆçš„openwrtå‡çº§ä¸å»ºè®®ä¿ç•™é…ç½®</li>
  <li>è®¾ç½®å¤‡ä»½æ–‡ä»¶åˆ—è¡¨
<code class="language-plaintext highlighter-rouge">luci&gt;ç³»ç»Ÿ&gt;å¤‡ä»½ä¸å‡çº§&gt;é…ç½®</code>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/cndaqiang
/etc/rc.local
/etc/init.d/cndaqiang_clash
/etc/opkg/distfeeds.conf
/www/clash-dashboard #clash
/root #git, .sshç­‰
#nfsã€zerotierçš„é…ç½®å¯ä»¥è‡ªåŠ¨ä¿å­˜ä¸ç”¨ç®¡
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="å…¨æ–°å®‰è£…åçš„æ“ä½œ">å…¨æ–°å®‰è£…åçš„æ“ä½œ</h3>
<ul>
  <li>æ–°è£…çš„ç³»ç»Ÿå¦‚æœå„ç§å¼‚å¸¸,é‡ç½®ç³»ç»Ÿ</li>
  <li>è®¾ç½®å¯†ç <code class="language-plaintext highlighter-rouge">ssh</code>å<code class="language-plaintext highlighter-rouge">passwd</code>å°±å¥½</li>
  <li>å¦‚æœä¸æ¢å¤å…¶ä»–å¤‡ä»½, æ¢å¤ä¸‹<code class="language-plaintext highlighter-rouge">/etc/dropbear</code>æœåŠ¡å™¨çš„key</li>
  <li>WANå£ä¸Šç½‘è®¾ç½®, dns, ipv6</li>
  <li>ä¿®æ”¹lanç½‘æ®µ</li>
  <li>è®¾ç½®å¤‡ä»½åˆ—è¡¨</li>
  <li>USBæŒ‚è½½</li>
  <li>å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æ–¹å¼é…ç½®<code class="language-plaintext highlighter-rouge">clash,nat6</code>,ä¹Ÿå¯ä»¥ç›´æ¥ä¸Šä¼ ä¹‹å‰å¤‡ä»½æ–‡ä»¶è§£å‹ç¼©çš„<code class="language-plaintext highlighter-rouge">/etc/cndaqiang</code>æ–‡ä»¶å¤¹</li>
  <li>æ£€æŸ¥opkgçš„é•œåƒ</li>
</ul>

<h2 id="éšæ‰‹è®°å½•">éšæ‰‹è®°å½•</h2>
<ul>
  <li>ä½¿ç”¨å¤–éƒ¨ç¡¬ç›˜åšoverlayæ—¶ï¼Œç½‘é¡µæ¢å¤/æ¢å¤æ“ä½œæ— æ•ˆï¼Œåªèƒ½æ‰‹åŠ¨åˆ é™¤/overlayä¸­çš„æ–‡ä»¶ï¼Œå†å»æ‰§è¡Œ</li>
  <li>åˆæ¬¡è®¾ç½®å®Œoverlayåï¼Œè®¾ç½®å°±è¢«æ¸…ç©ºäº†ï¼Œè¿˜è¦é‡æ–°é…ç½®</li>
</ul>

<h2 id="å…³äºdropbear">å…³äºDropbear</h2>
<p>Openwrté»˜è®¤ä¸ç¼–è¯‘<code class="language-plaintext highlighter-rouge">openssh-server/client</code>,<code class="language-plaintext highlighter-rouge">Dropbear</code>æä¾›<code class="language-plaintext highlighter-rouge">openssh-server/client</code>çš„æœåŠ¡</p>
<ul>
  <li>Dropbearä¸æ”¯æŒSFTP,éœ€è¦å®‰è£…<a href="https://openwrt.org/docs/guide-user/services/nas/sftp.server">openssh-sftp-server</a></li>
  <li>key</li>
  <li>
    <ul>
      <li>ç”Ÿæˆå¯†é’¥å¯¹: <code class="language-plaintext highlighter-rouge">( dropbearkey -y -f id_dropbear 2&gt;/dev/null || dropbearkey -t rsa -f id_dropbear ) | grep "^ssh-rsa " &gt; id_dropbear.pub</code></li>
    </ul>
  </li>
  <li>
    <ul>
      <li>å¯†é’¥:<code class="language-plaintext highlighter-rouge">dropbearkey -t ed25519 -f ~/.ssh/id_dropbear</code></li>
    </ul>
  </li>
  <li>
    <ul>
      <li>æŸ¥çœ‹å…¬é’¥:<code class="language-plaintext highlighter-rouge">dropbearkey -y -f ~/.ssh/id_dropbear</code>
        <blockquote>
          <ul>
            <li>
              <ul>
                <li><code class="language-plaintext highlighter-rouge">Ed25519é€šå¸¸æ¯”RSAæ›´çŸ­,æ›´å¿«,ç›¸å¯¹å®‰å…¨</code></li>
              </ul>
            </li>
            <li>
              <ul>
                <li>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæ€§èƒ½å’Œç®€æ´æ€§æ˜¯å…³é”®å› ç´ ï¼Œè€Œä¸”ä½ ä¸éœ€è¦é•¿å¯†é’¥ï¼Œé‚£ä¹ˆEd25519å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚å¦‚æœä½ éœ€è¦ä¸ç°æœ‰ç³»ç»Ÿæˆ–æ ‡å‡†å…¼å®¹ï¼Œæˆ–è€…æœ‰ç‰¹å®šçš„å®‰å…¨æ€§éœ€æ±‚ï¼Œå¯èƒ½ä¼šé€‰æ‹©RSA</li>
              </ul>
            </li>
          </ul>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>Openwrt æœåŠ¡å™¨çš„å¯†é’¥ä¿å­˜åœ¨<code class="language-plaintext highlighter-rouge">/etc/dropbear/</code>,ç½‘é¡µç«¯é…ç½®çš„å¯†é’¥ç™»å½•ä¹Ÿåœ¨è¯¥æ–‡ä»¶</li>
  <li>Dropbearçš„sshå®¢æˆ·ç«¯ä¸æ”¯æŒ<code class="language-plaintext highlighter-rouge">-D</code>,æ— æ³•åšsshéš§é“</li>
</ul>

<h2 id="dnsé…ç½®">dnsé…ç½®</h2>
<p>å‘ç°å•ç‹¬è®¾ç½®è¿™äº›DNS,éƒ½å¯èƒ½æ— æ³•è§£æ</p>
<ul>
  <li>LANæ¥å£</li>
  <li>WANæ¥å£</li>
  <li><code class="language-plaintext highlighter-rouge">dnsmasq</code></li>
</ul>

<h3 id="dnsæœ€ç»ˆè®¾ç½®">DNSæœ€ç»ˆè®¾ç½®</h3>
<ul>
  <li>LANé…ç½®å’Œä¸‹é¢ä¸€æ ·çš„DNS</li>
  <li><code class="language-plaintext highlighter-rouge">:/luci/admin/network/dhcp/å¸¸è§„è®¾ç½®</code>ä¸­è®¾ç½®dnsè½¬å‘(æ³¨:è¿™é‡Œåªèƒ½å¡«ipv4çš„dns,å¡«v6çš„è§£æä¼šå‡ºé—®é¢˜)
<img src="/uploads/2024/01/dnsmasq_trans.jpg" alt="" /></li>
  <li>æœ‰æ—¶å€™è¿˜æ˜¯æ²¡æ³•è§£æ,å°±é‡å¯<code class="language-plaintext highlighter-rouge">dnsmasq</code>çš„æœåŠ¡</li>
</ul>

<h2 id="zerotier">zerotier</h2>
<ul>
  <li>å¼€æœºåzerotierçš„å¯åŠ¨é€Ÿåº¦è¾ƒæ…¢,è€å¿ƒç­‰å¾…</li>
  <li>é˜²ç«å¢™çš„è®¾ç½®ä¼šå¯¼è‡´æ— æ³•è®¿é—®zerotier</li>
  <li><code class="language-plaintext highlighter-rouge">ç½‘ç»œ&gt;é˜²ç«å¢™&gt;é˜²ç«å¢™ - åŒºåŸŸè®¾ç½®&gt;å¸¸è§„è®¾ç½®&gt;å…¥ç«™æ•°æ®&gt;æ¥å—</code> æ‰èƒ½æ­£å¸¸ä½¿ç”¨zerotier</li>
  <li>èµ°zerotierå…±äº«çš„NFSç›®å½•é€Ÿåº¦è¯»å†™æ…¢äºç›´æ¥è¯»å†™çš„,åå°å‘ç°zerotierçš„CPUå ç”¨ç‡è¾ƒé«˜</li>
</ul>

<h2 id="nfs">NFS</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>chmod 777 /home/NFS
vi /etc/exports
</code></pre></div></div>
<p>å¡«å…¥</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/home/NFS  192.168.192.0/24(rw,no_subtree_check,all_squash,anonuid=0,anongid=0)
</code></pre></div></div>
<p>é‡å¯</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/init.d/nfsd restart
</code></pre></div></div>

<p>å®¢æˆ·ç«¯</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(base) cndaqiang@macmini ~$ showmount -e 192.168.192.101
Exports list on 192.168.192.101:
/home/NFS                           192.168.192.0/24
#
#
mom=192.168.192.101
sudo mount_nfs  -P -o nolocks,nosuid ${mom}:/home/NFS /Users/data
</code></pre></div></div>

<h3 id="è·¯ç”±å™¨ä¸Šå±‚è®¿é—®">è·¯ç”±å™¨ä¸Šå±‚è®¿é—®</h3>
<ul>
  <li>æ·»åŠ å®¢æˆ·ç«¯ipåˆ°<code class="language-plaintext highlighter-rouge">exports</code></li>
  <li>è·¯ç”±å™¨å†…éƒ¨åˆä¸èƒ½ç”¨è¿™ä¸ªwançš„ipè®¿é—®,çœŸæ˜¯æ€ªäº†</li>
</ul>

<h4 id="rpcçš„111ç«¯å£">rpcçš„111ç«¯å£</h4>
<ul>
  <li>ç›®å‰å‘ç°åªèƒ½é€šè¿‡ç«¯å£è½¬å‘çš„å½¢å¼å®ç°</li>
  <li>ç«¯å£è½¬å‘<code class="language-plaintext highlighter-rouge">wan:111 =&gt; lan:111</code></li>
</ul>

<h4 id="2049ç«¯å£32777-32780ç«¯å£">2049ç«¯å£ã€32777-32780ç«¯å£</h4>
<p>è½¬å‘æˆ–è€…å¼€å¯å…¥ç«™è§„åˆ™éƒ½å¯ä»¥,åªè¦æŠŠ<code class="language-plaintext highlighter-rouge">2049,32777-32780</code>è½¬å‘æˆ–è€…å…¥ç«™äº†å°±è¡Œ</p>
<ul>
  <li>å¯ä»¥ä½¿ç”¨ç«¯å£è½¬å‘<code class="language-plaintext highlighter-rouge">wan:port=&gt;lan:paort</code></li>
  <li>ä¹Ÿå¯ä»¥å¼€å¯å…¥ç«™è§„åˆ™: æ‰€æœ‰åŒºåŸŸåˆ°æ­¤è®¾å¤‡<code class="language-plaintext highlighter-rouge">port</code></li>
</ul>

<p><img src="/uploads/2024/01/nfs_port.png" alt="" /></p>

<h2 id="smb">smb</h2>
<p>ksmbçš„ç”¨æˆ·å’Œç™»å½•è´¦æˆ·æ˜¯ä¸¤å¥—</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ksmbd.adduser --add-user=cndaqiang
</code></pre></div></div>
<p>å…±äº«<code class="language-plaintext highlighter-rouge">/home/NFS/share</code></p>

<h2 id="git">git</h2>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯<code class="language-plaintext highlighter-rouge">dropbear</code>æä¾›çš„sshå®¢æˆ·ç«¯,å› æ­¤å’Œæ™®é€šlinuxä¸Šç”Ÿæˆkeyçš„æ–¹å¼ä¸åŒ.</p>

<p>åˆæ¬¡ä½¿ç”¨æ—¶</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd .ssh
( dropbearkey -y -f id_dropbear 2&gt;/dev/null || dropbearkey -t rsa -f id_dropbear ) | grep "^ssh-rsa " &gt; id_dropbear.pub
</code></pre></div></div>
<p>æŠŠ<code class="language-plaintext highlighter-rouge">id_dropbear.pub</code>æ”¾åˆ°giteeå°±å¯ä»¥äº†</p>

<h2 id="clash">clash</h2>
<ul>
  <li>å› ä¸ºæ˜¯åœ¨è·¯ç”±å™¨ä¸Š,æ‰€ä»¥ä¸ä»…æ»¡è¶³äº†clashç§‘å­¦ç½‘ç«™</li>
  <li>åœ¨å¤–é¢è¿˜å¯ä»¥èµ°å†…ç½‘ä¸‹è½½ç§‘å­¦æ–‡çŒ®</li>
  <li>é»˜è®¤<code class="language-plaintext highlighter-rouge">allow-lan: true</code>,è™½ç„¶è·¯ç”±å™¨ä¸‹é¢å¯ä»¥ç”¨è·¯ç”±å™¨çš„<code class="language-plaintext highlighter-rouge">wan ip</code>è®¿é—®,è·¯ç”±å™¨å¤–é¢è®¿é—®ä¸äº†<code class="language-plaintext highlighter-rouge">wan ip</code>,æ”¾å¿ƒ</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CLASHDIR=/etc/cndaqiang/clash
mylocalconfig=$CLASHDIR/mylocalconfig.yaml
mkdir -p $CLASHDIR
mkdir $CLASHDIR/bin
mkdir $CLASHDIR/log

########################## clash çš„è·å– ######################
##### ä½¿ç”¨openclashæä¾›çš„
##### ln -s /etc/openclash/clash $CLASHDIR/bin/
##### ğŸŒŸğŸŒŸ ä»githubä¸‹è½½
##### ä»https://github.com/vernesong/OpenClash/tree/coreä¸‹è½½
##### scp /Volumes/KPStoarge/ChromeDownload/clash-linux-arm64-2023.08.17-13-gdcc8d87.gz root@192.168.12.1:/home/NFS
##### ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸç¼–è¯‘å›ºä»¶æ—¶é›†æˆ Netwrok/Web Servers/Proxies/clash
##############################################################

########################## clash-dashboard çš„è·å– #############
##### ğŸŒŸğŸŒŸ ä»githubä¸‹è½½
##### wget 'https://codeload.github.com/cndaqiang/clash-dashboard/zip/refs/heads/gh-pages'
##### æˆ‘å·²ç»æå‰ä¸‹è½½å¥½äº†
cd /home/NFS
unzip -x gh-pages
mv clash-dashboard-gh-pages /www/clash-dashboard
##### è®¿é—®åœ°å€ http://192.168.12.1/clash-dashboard
##############################################################

########################## subconverter çš„è·å– ################
##### subconverter è´Ÿè´£å°†clashè®¢é˜…åœ°å€è½¬æˆclashé…ç½®æ–‡ä»¶ ##########
##### ç¼–è¯‘å›ºä»¶æ—¶é›†æˆ,è¿è¡Œä¼šå‡ºé”™,ä¸æ¨è
##### cp -r /etc/subconverter $CLASHDIR/subconverter
##### ğŸŒŸğŸŒŸ ä»githubä¸‹è½½
##### wget https://github.com/tindy2013/subconverter/releases/download/v0.8.1/subconverter_aarch64.tar.gz
##### æˆ‘å·²ç»æå‰ä¸‹è½½å¥½äº†
cd $CLASHDIR/
tar xzvf /home/NFS/subconverter_aarch64.tar.gz
##############################################################

########################## subconverter çš„é…ç½® ###################
cd $CLASHDIR/subconverter
#å¯ä»¥é€‚å½“ä¿®æ”¹clashç”Ÿæˆå‚æ•°
vi base/all_base.tpl
mixed-port: N (æ³¨æ„:å’ŒNä¹‹å‰æœ‰ç©ºæ ¼)
#è¾“å…¥æ–‡ä»¶
cat &gt; $CLASHDIR/subconverter/generate.ini &lt;&lt;EOF
[cndaqiang]
path=config.yml
target=clash
ver=4
url=http://dy.clashweb.site/api/v1/client/subscribe?token=cndaqiangstoken
EOF
#
##############################################################

#é…ç½®æ–‡ä»¶ä½¿ç”¨ç³»ç»ŸæœåŠ¡å¯åŠ¨
cat &gt;  $CLASHDIR/bin/restart-clash.sh &lt;&lt;EOF
#!/bin/bash

lsof -i :10092 | awk 'NR!=1 {print \$2}' | xargs kill
#
#æ–°é…ç½®æ–‡ä»¶
rm -rf $CLASHDIR/subconverter/config.yml
cd $CLASHDIR/subconverter/
$CLASHDIR/subconverter/subconverter -g --artifact "cndaqiang"
if [ -f $CLASHDIR/subconverter/config.yml ]
then
        echo ä¸‹è½½$CLASHDIR/subconverter/config.ymlæˆåŠŸ
        cp $CLASHDIR/subconverter/config.yml $CLASHDIR/subconverter/config.yml.bak
else
        echo ä¸‹è½½å¤±è´¥ï¼Œä½¿ç”¨å¤‡ä»½$CLASHDIRh/subconverter/config.yml.bak
        cp $CLASHDIR/subconverter/config.yml.bak $CLASHDIR/subconverter/config.yml
fi
#
#æ·»åŠ è‡ªå®šä¹‰çš„è§„åˆ™, å¦‚libgenèµ°ä»£ç†
line=\$(grep -rn rules $CLASHDIR/subconverter/config.yml | awk  -F: '{ print \$1 }')
sed -i \${line}a'\ \ - DOMAIN-KEYWORD,libgen,â™»ï¸ è‡ªåŠ¨é€‰æ‹©           ' $CLASHDIR/subconverter/config.yml
sed -i \${line}a'\ \ - DOMAIN-KEYWORD,sci-hub,â™»ï¸ è‡ªåŠ¨é€‰æ‹©          ' $CLASHDIR/subconverter/config.yml      
sed -i \${line}a'\ \ - DOMAIN-KEYWORD,sciencedirect,ğŸ¯ å…¨çƒç›´è¿   ' $CLASHDIR/subconverter/config.yml    
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,aps.org,ğŸ¯ å…¨çƒç›´è¿          ' $CLASHDIR/subconverter/config.yml       
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,webofscience.com,ğŸ¯ å…¨çƒç›´è¿ ' $CLASHDIR/subconverter/config.yml             
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,iop.org,ğŸ¯ å…¨çƒç›´è¿          ' $CLASHDIR/subconverter/config.yml           
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,scitation.org,ğŸ¯ å…¨çƒç›´è¿    ' $CLASHDIR/subconverter/config.yml                 
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,elsevier.com,ğŸ¯ å…¨çƒç›´è¿     ' $CLASHDIR/subconverter/config.yml                
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,wiley.com,ğŸ¯ å…¨çƒç›´è¿        ' $CLASHDIR/subconverter/config.yml             
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,acs.org,ğŸ¯ å…¨çƒç›´è¿          ' $CLASHDIR/subconverter/config.yml           
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,nih.gov,ğŸ¯ å…¨çƒç›´è¿          ' $CLASHDIR/subconverter/config.yml           
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,springer.com,ğŸ¯ å…¨çƒç›´è¿     ' $CLASHDIR/subconverter/config.yml                
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,nature.com,ğŸ¯ å…¨çƒç›´è¿       ' $CLASHDIR/subconverter/config.yml              
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,science.org,ğŸ¯ å…¨çƒç›´è¿      ' $CLASHDIR/subconverter/config.yml               
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,jps.jp,ğŸ¯ å…¨çƒç›´è¿           ' $CLASHDIR/subconverter/config.yml               
sed -i \${line}a'\ \ - DOMAIN-SUFFIX,xiaomi.eu,â™»ï¸ è‡ªåŠ¨é€‰æ‹©         ' $CLASHDIR/subconverter/config.yml
#
#åˆ›å»ºæ–°ç­–ç•¥ç»„(è‡ªåŠ¨ç­›é€‰èŠ‚ç‚¹)
sourceFile=$CLASHDIR/subconverter/config.yml
includeFile=\${sourceFile}.chat.cndaqiang.in
echo "  - name: ChatGPT" &gt; \$includeFile
hang0=\$(grep -n 'è‡ªåŠ¨é€‰æ‹©' \$sourceFile | grep name | awk -F: '{ print \$1 }')
hang=\$((hang0+1))
sed -n "\${hang},\\\$p" \$sourceFile  | awk '/^[[:space:]]*-/ {exit} {print}' &gt;&gt; \$includeFile
#ç­›é€‰èŠ‚ç‚¹
sed -n "\${hang},\\\$p" \$sourceFile  | awk '/name/ {exit} {print}' | grep -i GPT &gt;&gt; \$includeFile
#ç”Ÿæˆæ–°çš„æ–‡ä»¶
awk -v line="\${hang0}" -v includeFile="\$includeFile" 'NR==line{system("cat " includeFile )} {print}' \$sourceFile &gt; ${sourceFile}.tmp
mv ${sourceFile}.tmp \$sourceFile
rm \$includeFile
line=\$(grep -rn rules \$sourceFile | awk  -F: '{ print \$1 }')
GPT=\$(grep -i chatgpt \$sourceFile | grep name | head -1| sed 's/[,":{}]/ /g' | awk  '{ print \$3 }')
if [ \$GPT ]
then
sed -i \${line}a'\ \ - DOMAIN-KEYWORD,openai, ChatGPT           ' \$sourceFile
sed -i \${line}a'\ \ - DOMAIN-KEYWORD,perplexity, ChatGPT       ' \$sourceFile
fi
#

#
if [ ! -f $mylocalconfig ]; then touch $mylocalconfig;fi
diff $CLASHDIR/subconverter/config.yml $mylocalconfig
#å¦‚æœä¸¤ä¸ªæ–‡ä»¶ä¸ä¸€è‡´å°±ç”Ÿæˆå¤‡ä»½æ—§æ–‡ä»¶å¹¶ä¸‹è½½æ›¿æ¢æ–°çš„æ–‡ä»¶
if [ ! "\$?" == 0 ]
then
  cp  $CLASHDIR/subconverter/config.yml $mylocalconfig
fi
#
/usr/bin/clash -f $mylocalconfig | tee $CLASHDIR/log/clash.log  2&gt;&amp;1 &amp;

#$CLASHDIR/bin/clash -f $mylocalconfig | tee $CLASHDIR/log/clash.log
#$CLASHDIR/bin/clash -f $mylocalconfig &gt; $CLASHDIR/log/clash.log 2&gt;&amp;1 &amp;
EOF
chmod +x $CLASHDIR/bin/restart-clash.sh
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat &gt;  $CLASHDIR/bin/stop-clash.sh &lt;&lt;EOF
#!/bin/bash
lsof -i :10092 | awk 'NR!=1 {print \$2}' | xargs kill
EOF
chmod +x $CLASHDIR/bin/stop-clash.sh
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat &gt; $CLASHDIR/bin/cndaqiang_clash &lt;&lt; EOF
#!/bin/sh /etc/rc.common

START=99
STOP=10

start() {
    echo "Starting My Clash Service"
    $CLASHDIR/bin/restart-clash.sh
    # æ·»åŠ å¯åŠ¨æœåŠ¡çš„å‘½ä»¤
}

stop() {
    echo "Stopping My Clash Service"
    # æ·»åŠ åœæ­¢æœåŠ¡çš„å‘½ä»¤
    $CLASHDIR/bin/stop-clash.sh
}

restart() {
    echo "Restarting My Clash Service"
    stop
    start
}

# æ·»åŠ å…¶ä»–éœ€è¦çš„å‡½æ•°

# æ·»åŠ å…¶ä»–éœ€è¦çš„é€»è¾‘

# Exit on unsupported action
run "$@"
EOF
#
chmod +x $CLASHDIR/bin/cndaqiang_clash
cp $CLASHDIR/bin/cndaqiang_clash /etc/init.d/
</code></pre></div></div>

<p>å¼€æœºå¯åŠ¨ã€æ¯æ—¥é‡å¯</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(/etc/init.d/cndaqiang_clash restart &amp;)
0 1 * * * /etc/init.d/cndaqiang_clash restart
</code></pre></div></div>

<h3 id="clashå ç”¨å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆ">clashå ç”¨å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>è·¯ç”±å™¨çš„ç©ºé—´å°ï¼Œä¸Šé¢æ–¹æ¡ˆè¾“å‡ºçš„clashæ—¥å¿—æ–‡ä»¶å¢åŠ ï¼Œé•¿æ—¶é—´åä¼šå¯¼è‡´è·¯ç”±å™¨æ²¡æœ‰ç©ºé—´å‡ºç°å„ç§å¼‚å¸¸</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#æ¯å¤©å‡Œæ™¨åˆ é™¤åˆ›å»ºæ—¶é—´&gt;1å¤©çš„æ–‡ä»¶
0 0 * * * /usr/bin/find /etc/cndaqiang/clash/log/clash.log -type f -mtime  +1 -exec /bin/rm {} \;
#åˆ é™¤å¤§äº1Mçš„
0 0 * * * /usr/bin/find /etc/cndaqiang/clash/log/clash.log -type f -size +1024k -exec /bin/rm {} \;
#å…¶ä»–ç¼“å­˜
0 0 * * * /usr/bin/find /etc/cndaqiang/clash/subconverter/cache -type f -mtime +1 -exec /bin/rm {} \;
</code></pre></div></div>

<h2 id="ipv6">ipv6</h2>
<p><a href="https://www.cnblogs.com/cndaqiang/p/16632790.html">Openwrt çº¯ipv6ç¯å¢ƒç®¡ç†å’Œä¸Šç½‘</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(sleep 20; /etc/cndaqiang/nat6.sh &amp;)
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>opkg update
opkg install ip6tables kmod-ipt-nat6
#å¦‚æœæ¢äº†overlayåˆ†åŒºï¼Œæ€ä¹ˆé…ç½®éƒ½ä¸å¥½å°±
opkg upgrade ip6tables kmod-ipt-nat6
#
mkdir /etc/cndaqiang/
vi /etc/cndaqiang/nat6.sh
chmod +x /etc/cndaqiang/nat6.sh
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#/bin/bash
#æ·»åŠ åˆ°å¼€æœºå¯åŠ¨å°±è¡Œ
#éœ€è¦kmod-ipt-nat6
# Wait until IPv6 route is up...                  .....................ipv6......
line=0
while [ $line -eq 0 ]
do
        sleep 5
        line=`route -A inet6 | grep ::/0 | awk 'END{print NR}'`
        #è¿™ä¸ªå…¶å®æ— æ•ˆï¼Œå°±æ˜¯ä¸ºä¾‹æ£€æµ‹ipv6æ˜¯å¦æ­£å¸¸
done
#æ·»åŠ é»˜è®¤è·¯ç”±
ip -6 route add default via `ip -6 route | grep "default from" | awk 'NR==1{print $5,$6,$7}'`
#å¦‚æœæœ‰é»˜è®¤è§„åˆ™,åˆ™åˆ é™¤åé‡æ–°æ·»åŠ 
if [ $? -gt 0 ]
then
ip -6 route delet default
ip -6 route add default via `ip -6 route | grep "default from" | awk 'NR==1{print $5,$6,$7}'`
fi

#NATè½¬å‘
ip6tables -t nat -A POSTROUTING -o `ip -6 route | grep "default from" | awk 'NR==1{print $7}'` -j MASQUERADE
</code></pre></div></div>

<h2 id="passwall">PassWall</h2>
<ul>
  <li>ä¸€èˆ¬ä¸ä½¿ç”¨,ä»…åœ¨éœ€è¦å…¨å±€ç¯å¢ƒç¼–è¯‘è½¯ä»¶æ—¶å¼€å¯</li>
  <li>é»˜è®¤å¼€å¯è®¿é—®æ§åˆ¶,åªå…è®¸ç‰¹å®šè®¾å¤‡è®¿é—®</li>
  <li>å¼€å¯çš„socksä¹Ÿæ˜¯å¯ä»¥å±€åŸŸç½‘/zerotierçš„</li>
</ul>

<p><img src="/uploads/2024/01/passwall.png" alt="" /></p>

<h3 id="æš‚æ—¶ä¸æ”¯æŒhttpsç±»å‹çš„èŠ‚ç‚¹è®¢é˜…è·³è¿‡æ­¤èŠ‚ç‚¹">æš‚æ—¶ä¸æ”¯æŒhttpsç±»å‹çš„èŠ‚ç‚¹è®¢é˜…ï¼Œè·³è¿‡æ­¤èŠ‚ç‚¹</h3>
<p>æ˜¯è®¢é˜…é“¾æ¥çš„åŸå› </p>
<ul>
  <li>ä¸è¦å¤åˆ¶åŸæœºåœºçš„clashè®¢é˜…,å¤åˆ¶V2-Rayè®¢é˜…åœ°å€èƒ½è§£æ</li>
</ul>

<h2 id="istoreä½¿ç”¨è®°å½•">istoreä½¿ç”¨è®°å½•</h2>
<ul>
  <li>å› ä¸ºä¸æ˜¯å®˜æ–¹æ”¯æŒçš„è®¾å¤‡ï¼Œå¯èƒ½å­˜åœ¨å„ç§é—®é¢˜ï¼Œè°¨æ…ä½¿ç”¨</li>
  <li><strong>åšå¥½å›ºä»¶å¤‡ä»½å’Œå¤‡ä»½,æœ‰å¯èƒ½ä½¿ç”¨istoreå®‰è£…ä¸€ä¸ªæ’ä»¶åç³»ç»Ÿå‡ºç°å„ç§å¥‡æ€ªç°è±¡</strong></li>
  <li>ç³»ç»Ÿçš„opkgé…ç½®ä¸å¥½çš„æ—¶å€™ï¼Œistoreä¹Ÿå®‰è£…ä¸å¥½è½¯ä»¶</li>
  <li>istoreå®‰è£…çš„è½¯ä»¶åŒ…éƒ½å¾ˆå¤§ï¼Œæ™®é€šçš„120M ramçš„è·¯ç”±å™¨ï¼Œå®‰è£…ä¸€ä¸¤ä¸ªåŒ…å°±å æ»¡äº†ï¼Œæ„ä¹‰ä¸å¤§</li>
</ul>

<p>å¯ä»¥åœ¨ç½‘é¡µluci&gt;iStoreä¸Šç›´æ¥å®‰è£…æ’ä»¶,å®‰è£…å¤±è´¥å,æ ¹æ®ç½‘é¡µç«¯æ˜¾ç¤ºçš„å‘½ä»¤ï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ, ä¾‹å¦‚<code class="language-plaintext highlighter-rouge">is-opkg install app-meta-istorex</code>, å¯ä»¥çœ‹åˆ°æŠ¥é”™çš„åŸå› </p>

<p>æŠ¥é”™</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>is-opkg install 'app-meta-qbittorrent'
#.....
Collected errors:
 * check_data_file_clashes: Package qbittorrent-enhanced-edition wants to install file /usr/bin/qbittorrent-nox
	But that file is already provided by package  * qBittorrent-static
 * opkg_install_cmd: Cannot install package app-meta-qbittorrent.
</code></pre></div></div>

<p>å­˜å‚¨ç©ºé—´ä¸å¤Ÿ</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Installing qbittorrent-enhanced-edition (4.6.5.10-2) to root...
Collected errors:
 * verify_pkg_installable: Only have 3932kb available on filesystem /overlay, pkg qbittorrent-enhanced-edition needs 7734
 * opkg_install_cmd: Cannot install package app-meta-qbittorrent.
</code></pre></div></div>

<h2 id="ttyd">ttyd</h2>
<p><a href="https://www.cnblogs.com/Magiclala/p/16935165.html">OpenWRTçš„TTYDç»ˆç«¯æ˜¾ç¤ºå·²æ‹’ç»è¿æ¥</a></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>vi /etc/init.d/ttyd
#ç”¨#æ³¨é‡Šæ‰${interface:+-i $interface} \
#é‡å¯ttydæœåŠ¡
</code></pre></div></div>

<h2 id="æŒ‚è½½uç›˜">æŒ‚è½½Uç›˜</h2>
<ul>
  <li>æœ‰çš„Uç›˜æœ‰é—®é¢˜,æ¢ä¸ªUç›˜å°±å¥½äº†</li>
  <li>opkgå®‰è£…çš„é©±åŠ¨<code class="language-plaintext highlighter-rouge">kmod-usb-storage kmod-usb2</code>, è‹¥æ— æ•ˆå°±é›†æˆåœ¨å›ºä»¶ä¸­</li>
  <li>è¿˜è¦å®‰è£…Uç›˜çš„æ ¼å¼æ”¯æŒï¼Œä¾‹å¦‚ext4:<code class="language-plaintext highlighter-rouge">kmod-fs-ext4</code></li>
</ul>

<h2 id="æŠ¥é”™">æŠ¥é”™</h2>
<h3 id="è„šæœ¬å­˜åœ¨æ— æ³•è¿è¡Œ">è„šæœ¬å­˜åœ¨æ— æ³•è¿è¡Œ</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>root@ImmortalWrt:/etc/cndaqiang/clash# /etc/cndaqiang/clash/bin/restart-clash.sh
-ash: /etc/cndaqiang/clash/bin/restart-clash.sh: not found
</code></pre></div></div>
<p>å› ä¸ºè„šæœ¬å¼€å¤´æ˜¯ç”¨<code class="language-plaintext highlighter-rouge">bash</code>è¿è¡Œçš„,å®‰è£…<code class="language-plaintext highlighter-rouge">bash</code>æˆ–è€…æŠŠå¼€å¤´è°ƒæ•´ä¸º<code class="language-plaintext highlighter-rouge">ash</code></p>

<h3 id="é‡å¯årootå¯†ç æ— æ³•ç™»å½•">é‡å¯årootå¯†ç æ— æ³•ç™»å½•</h3>
<ul>
  <li>æ–°ç³»ç»Ÿ,ä»…åˆå§‹åŒ–ä¿®æ”¹rootå¯†ç </li>
  <li>ssh å reboot</li>
  <li>
    <p>é‡å¯åå°±æ— æ³•ç™»å½•äº†, ä¸»æœºçš„keyä¹Ÿå˜äº†</p>
  </li>
  <li><strong>åˆæ­¥åŸå› :<code class="language-plaintext highlighter-rouge">sshd</code>å’Œ<code class="language-plaintext highlighter-rouge">dropbear</code>ä¸¤ä¸ªæœåŠ¡å†²çªäº†</strong></li>
  <li><strong>æ–¹æ¡ˆ1:å…³é—­ç³»ç»Ÿçš„<code class="language-plaintext highlighter-rouge">sshd</code>é¡¹ç›®å¼€æœºè‡ªå¯</strong></li>
  <li><strong>æ–¹æ¡ˆ2:ä½¿ç”¨<code class="language-plaintext highlighter-rouge">sshd</code></strong>,è‡ªå·±ä¿®æ”¹<code class="language-plaintext highlighter-rouge">/etc/ssh/sshd_config</code>é…ç½®ï¼Œè‡ªå·±æå‰æ”¾å¥½<code class="language-plaintext highlighter-rouge">.ssh/authorized_keys</code></li>
  <li>ğŸŒŸ<strong>æœ€ç»ˆé‡‡ç”¨çš„æ–¹æ¡ˆ:å›ºä»¶ä¸é›†æˆ<code class="language-plaintext highlighter-rouge">openssh-server</code></strong></li>
</ul>

<h3 id="è‡ªå·±æ­å»ºçš„ä»“åº“ç­¾åé”™è¯¯-åˆ é™¤ç­¾åæ–‡ä»¶åå†åŒæ­¥">è‡ªå·±æ­å»ºçš„ä»“åº“ç­¾åé”™è¯¯: åˆ é™¤ç­¾åæ–‡ä»¶åå†åŒæ­¥</h3>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Downloading file:///home/NFS/immortalwrt-23.05/targets/mediatek/filogic/packages/Packages.sig
Signature check failed.
Remove wrong Signature file.
</code></pre></div></div>
<p>å¤„ç†</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for i in $(find /home/NFS/immortalwrt-23.05 | grep Packages.sig)
do
echo rm $i
done
</code></pre></div></div>
<p>å†é‡æ–°åŒæ­¥Packages</p>

<h3 id="qbittorentæ— æ³•å¯åŠ¨">qbittorentæ— æ³•å¯åŠ¨</h3>
<ul>
  <li>å‚æ•°è®¾ç½®é”™äº†ï¼Œæ¯”å¦‚ä¸‹è½½ç›®å½•ä¸å­˜åœ¨ã€ä¸å¯è¯»å†™</li>
  <li>æ–‡ä»¶ç³»ç»Ÿå˜read-onlyäº†</li>
</ul>

<h3 id="qbittorentæç¤ºunauthorized">qbittorentæç¤º<code class="language-plaintext highlighter-rouge">Unauthorized</code></h3>
<p>qbitttorentè¯†åˆ«lanå£è¯†åˆ«é”™äº†ï¼Œå°è¯•é€šè¿‡å…¶ä»–ç½‘å¡è®¿é—®qbittorentçš„webuiï¼Œå–æ¶ˆ</p>
<ul>
  <li>å¯ç”¨â€œç‚¹å‡»åŠ«æŒâ€ä¿æŠ¤</li>
  <li>å¯ç”¨è·¨ç«™è¯·æ±‚ä¼ªé€  (CSRF) ä¿æŠ¤</li>
</ul>

<p>ç­‰ä»·äºè®¾ç½®<code class="language-plaintext highlighter-rouge">/etc/qBittorrent/config/qBittorrent.conf</code>ä¸­</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>WebUI\CSRFProtection=false            
WebUI\ClickjackingProtection=false
</code></pre></div></div>

<hr />
<blockquote>
  <p>æœ¬æ–‡é¦–å‘äº<a href="https://cndaqiang.github.io/">æˆ‘çš„åšå®¢@cndaqiang</a>.<br />
æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
</blockquote>

        </article>
        <hr>

        
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                        
                        <h2 id="similar_posts">ç±»ä¼¼æ–‡ç« </h2>
                        <ul>
                        
                        <li class="relatedPost">
                            <a href="/2024/09/12/openwrt-LuBan/">æ— çº¿å®äº‘è·¯ç”±å™¨AX1800 JD-Cloud RE-CP-02 çš„OpenWRTé…ç½®
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                        
                        <li class="relatedPost">
                            <a href="/2024/07/08/openwrt-server/">OpenWRTä¸ªäººæœåŠ¡å™¨:ä»¥E20Cä¸ºä¾‹
                            
                            </a>
                        </li>
                        
                        
                    
                
            
        
            
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
                
                    
                
            
        
            
            
                
                    
                
            
        
        
            </ul>
        
        <!--- github follow and star -->
        <iframe src="/html_script/github-btn.html?user=cndaqiang&repo=cndaqiang.github.io&type=star&count=true&size=large" frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
        <iframe src="/html_script/github-btn.html?user=cndaqiang&type=follow&count=true&size=large" frameborder="0" scrolling="0" width="220px" height="30px"></iframe>
        <div class="post-recent">
    <div class="pre">
        
        <p><strong>ä¸Šä¸€ç¯‡</strong> <a href="/2023/12/09/QuantumultX/">Quantumult-Xæ“ä½œæ‰‹å†Œ</a></p>
        
    </div>
    <div class="nex">

        
        <p><strong>ä¸‹ä¸€ç¯‡</strong> <a href="/2024/01/25/mac-nfsd/">MacOS/FreeBSD æ­å»ºnfsæœåŠ¡å™¨</a></p>
        
    </div>
</div>

        
            





            <!--å¹¿å‘Š _includes/adsenseAfterComments.html -->
            

        
        

        


    </div>
    <button class="anchor"><i class="fa fa-anchor"></i></button>
    <div class="right">
        <div class="wrap">

            <!-- Content -->
            <div class="side content">
                <div>
                    ç›®å½•
                </div>
                <ul id="content-side" class="content-ul">
                    
                    <li><a href="#similar_posts">ç±»ä¼¼æ–‡ç« </a></li>
                    
                     <!-- å…³é—­è¯„è®ºåŠŸèƒ½ <li><a href="#comments">è¯„è®º</a></li> -->
                </ul>
            </div>
            <!-- å…¶ä»–divæ¡†æ”¾åˆ°è¿™é‡Œ ï¼Œæ·»åŠ br ä½¿ä¸ç²˜è¿--><br>
            <!-- adsens -->
            <!--å¹¿å‘Š _includes/adsense_side.html -->
            

            
            
                 
                <div class="side">
                   <div>
                       <i class="fa fa-database"></i>
                      è®¿å®¢æ•°æ®
                   </div>
                   <script type="text/javascript" src="//rf.revolvermaps.com/0/0/7.js?i=537vyn60ia7&amp;m=0&amp;c=007eff&amp;cr1=ff0000&amp;sx=0" async="async"></script>
                </div>
                
            
            <!-- <div class="side">bbbb</div> -->
        </div>
    </div>
</div>
<script>
/**
 * target _blank
 */
(function() {
    var aTags = document.querySelectorAll('article a:not([id])')
    for (var i = 0; i < aTags.length; i++) {
        aTags[i].setAttribute('target', '_blank')
    }
}());
</script>
<script src="/js/pageContent.js " charset="utf-8"></script>


    <footer class="site-footer">


    <div class="wrapper">
        


        <!-- 
        <p class="contact">
            
            è”ç³»æ–¹å¼: 
             <a href="https://github.com/cndaqiang" title="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a>   
              
              
              
              
              
              
              
              
            .
        
        -->
         
        </p>
        <p>
            
            æœ¬ç«™æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡ï¼Œè®¿å®¢<span id="busuanzi_value_site_uv"></span>äººæ¬¡ï¼Œæœ¬æ–‡é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡.
            
        <!-- 
             <a href="https://us.umami.is/websites/27e72116-bcc0-4a4d-82a5-485b4105820e"> å®æ—¶è®¿å®¢æ•°æ®</a>  
        -->
        </p>
        <!-- 
        <p class="power">
            <span>
                Site powered by <a href="https://cndaqiang.github.io/">cndaqiang</a>
            </span>
            <span>
                Theme designed by <a href="https://github.com/Gaohaoyang">HyG</a>.
            </span>
        </p>
        -->
        <p class="description">
            <!-- 
                 
            -->
            &copy; 2024 cndaqiang. Archived since 11/01/2014.
            </p>
    
    </div>
</footer>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 
    <div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

    <script src=" /js/main.js " charset="utf-8"></script>
    <script src=" /js/smooth-scroll.min.js " charset="utf-8"></script>
    <script type="text/javascript">
      smoothScroll.init({
        speed: 500, // Integer. How fast to complete the scroll in milliseconds
        easing: 'easeInOutCubic', // Easing pattern to use
        offset: 20, // Integer. How far to offset the scrolling anchor location in pixels
      });
    </script>
    <!-- <script src=" /js/scroll.min.js " charset="utf-8"></script> -->
  </body>

</html>
